(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{442:function(e,t,_){"use strict";_.r(t);var v=_(42),i=Object(v.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("p",[e._v("åŸåˆ› 404å®éªŒå®¤ [Seebugæ¼æ´å¹³å°](javascript:void(0)ğŸ˜‰ "),_("em",[e._v("å‰å¤©")])]),e._v(" "),_("p",[e._v("æ”¶å½•äºè¯é¢˜")]),e._v(" "),_("p",[e._v("#åŸåˆ›Paper")]),e._v(" "),_("p",[e._v("82ä¸ª")]),e._v(" "),_("p",[_("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[_("strong",[e._v("ä½œè€…ï¼š0x7F@çŸ¥é“åˆ›å®‡404å®éªŒå®¤\næ—¶é—´ï¼š2021å¹´7æœˆ21æ—¥")])]),e._v(" "),_("p",[_("strong",[e._v("0x00 å‰è¨€")])]),e._v(" "),_("p",[e._v("æœ€è¿‘åœ¨å·¥ä½œä¸­é‡åˆ° VPN çš„ç›¸å…³é—®é¢˜ï¼Œä¹‹å‰ä¸€ç›´å¯¹ VPN çš„åŸç†å­˜åœ¨ä¸€äº›ç–‘æƒ‘ï¼Œå€Ÿæ­¤æœºä¼šå­¦ä¹ ä¸€ä¸‹ VPN çš„åŸç†ä»¥åŠè¿›è¡Œå®ç°éªŒè¯ã€‚")]),e._v(" "),_("p",[e._v("ç”±äº VPN åœ¨ä¸åŒç³»ç»Ÿä¸‹çš„å®ç°æ–¹å¼ä¸åŒï¼Œä¸ºäº†ä¾¿äºå­¦ä¹ å’Œç†è§£ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹© "),_("code",[e._v("Linux")]),e._v(" ç¯å¢ƒï¼Œæˆ‘æœ¬åœ°æµ‹è¯•ç¯å¢ƒä½¿ç”¨çš„æ˜¯ "),_("code",[e._v("Ubuntu 18.04 x64")]),e._v("ã€‚")]),e._v(" "),_("p",[e._v("æœ¬æ–‡ä» TUN/TAP å‡ºå‘ï¼Œé€æ­¥ç†è§£ VPN ä¸­çš„æŠ€æœ¯ç»†èŠ‚ï¼›å¹¶ç»“åˆ simpletun æºç ï¼Œè¿›è¡Œ VPN çš„åŸç†éªŒè¯ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("0x01 VPNæ˜¯ä»€ä¹ˆ")])]),e._v(" "),_("p",[e._v("VPN å…¨ç§°ä¸ºè™šæ‹Ÿç§äººç½‘ç»œ(Virtual Private Network)ï¼Œå¸¸ç”¨äºè¿æ¥ä¸­ã€å¤§å‹ä¼ä¸šæˆ–å›¢ä½“é—´ç§äººç½‘ç»œçš„é€šè®¯æ–¹æ³•ï¼Œåˆ©ç”¨éš§é“åè®®ï¼ˆTunneling Protocolï¼‰æ¥è¾¾åˆ°å‘é€ç«¯è®¤è¯ã€æ¶ˆæ¯ä¿å¯†ä¸å‡†ç¡®æ€§ç­‰åŠŸèƒ½ã€‚")]),e._v(" "),_("p",[e._v("æ¯”å¦‚å¤šåœ°åŠå…¬çš„å…¬å¸ï¼Œå¯ä»¥ä½¿ç”¨ VPN å°†ä¸åŒåœ°åŒºè¿æ¥åœ¨åŒä¸€å†…ç½‘ä¸‹ï¼›æˆ–è€…åœ¨å®¶åŠå…¬çš„æ—¶å€™ä¹Ÿå¯ä»¥é€šè¿‡ VPN æ¥å…¥å…¬å¸å†…ç½‘ä¸­ã€‚")]),e._v(" "),_("p",[e._v("VPN ä»¥ CS æ¶æ„è¿è¡Œï¼Œå·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELpEgStj1ic8bMNGBSy6TmxQCn22vXuCLehRHeWUxLPgmL3LGZUiaN6Vpqw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("1.VPNå·¥ä½œæµç¨‹")]),e._v(" "),_("p",[e._v("åœ¨å¤–ç½‘çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ "),_("code",[e._v("vpn client")]),e._v(" è¿æ¥ç»„ç»‡æ­å»ºçš„ "),_("code",[e._v("vpn server")]),e._v(" ä»¥å»ºç«‹é€šä¿¡éš§é“ï¼Œéšåä¾¿å»ºç«‹äº†è™šæ‹Ÿçš„ç§äººç½‘ç»œï¼Œå¤„äºå¤–ç½‘çš„ "),_("code",[e._v("worker")]),e._v(" å’Œå†…ç½‘ä¸­çš„ "),_("code",[e._v("server")]),e._v(" å¯ä»¥ç›¸äº’é€šä¿¡ã€‚")]),e._v(" "),_("p",[e._v("é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç®€å•ç†è§£ VPNï¼Œç”± "),_("code",[e._v("VPN client")]),e._v(" æ•è·ç”¨æˆ·å‘å‡ºçš„æŠ¥æ–‡ï¼Œå°è£…æŠ¥æ–‡åé€šè¿‡ç‰©ç†ç½‘ç»œé€šä¿¡é“¾è·¯å°†æŠ¥æ–‡å‘ç»™ "),_("code",[e._v("VPN server")]),e._v("ï¼Œ"),_("code",[e._v("VPN server")]),e._v(" æ¥æ”¶åˆ°æŠ¥æ–‡åè¿›è¡Œè§£åŒ…ï¼Œå†å°†å…¶è½¬å‘ç»™å®é™…çš„ç›®æ ‡ï¼Œåä¹‹åŒç†ï¼›VPN åœ¨é€»è¾‘å±‚é¢æ„å»ºäº†è™šæ‹Ÿç½‘ç»œã€‚")]),e._v(" "),_("p",[_("strong",[e._v("0x02 TUN/TAP")])]),e._v(" "),_("p",[e._v("é‚£ä¹ˆåœ¨ä»£ç å±‚é¢ VPN æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹çœ‹ TUN/TAPã€‚")]),e._v(" "),_("p",[e._v("TUN/TAP æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸ä¸­çš„è™šæ‹Ÿç½‘ç»œè®¾å¤‡ï¼Œç”±è½¯ä»¶è¿›è¡Œå®ç°ï¼Œå‘æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºæä¾›ä¸ç¡¬ä»¶ç½‘ç»œè®¾å¤‡å®Œå…¨ç›¸åŒçš„åŠŸèƒ½ã€‚å…¶ä¸­ TAP æ˜¯ä»¥å¤ªç½‘è®¾å¤‡(äºŒå±‚è®¾å¤‡)ï¼Œæ“ä½œå’Œå°è£…ä»¥å¤ªç½‘æ•°æ®å¸§ï¼ŒTUN åˆ™æ˜¯ç½‘ç»œå±‚è®¾å¤‡(ä¸‰å±‚è®¾å¤‡)ï¼Œæ“ä½œå’Œå°è£…ç½‘ç»œå±‚æ•°æ®å¸§ã€‚")]),e._v(" "),_("p",[e._v("å½“åº”ç”¨ç¨‹åºå‘å‡ºæŠ¥æ–‡åï¼ŒæŠ¥æ–‡å°†é€šè¿‡æ“ä½œç³»ç»Ÿåè®®æ ˆå¤„ç†ï¼Œåˆ°è¾¾ç½‘ç»œè®¾å¤‡ï¼Œç¡¬ä»¶ç½‘ç»œè®¾å¤‡å°†æ”¶åˆ°çš„æŠ¥æ–‡è½¬åŒ–ä¸ºç”µä¿¡å·å‘å‡ºï¼Œè€Œè™šæ‹Ÿç½‘ç»œè®¾å¤‡(TUN/TAP)ä¸å…·å¤‡å®é™…çš„ç‰©ç†åŠŸèƒ½ï¼ŒæŠ¥æ–‡éœ€è¦ä¸Šå±‚åº”ç”¨è¿›è¡Œå¤„ç†ï¼Œå¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELpXfx0QU0ibhktZVqXySxmtEhVZOpqibp8Hb0vfNo28cPcZZSqYurNr7yw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("2.ç¡¬ä»¶/è™šæ‹Ÿç½‘ç»œè®¾å¤‡")]),e._v(" "),_("p",[e._v("æˆ‘ä»¬ç›´æ¥ä½¿ç”¨å‘½ä»¤åˆ›å»º TUN/TAP è®¾å¤‡ï¼Œå¹¶è¿›è¡Œæµ‹è¯•ï¼š")]),e._v(" "),_("ul",[_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# ip tuntap åˆ›å»ºåä¸º tun0 çš„ tun è®¾å¤‡sudo ip tuntap add dev tun0 mod tun# ä¸º tun0 é…ç½® ipsudo ifconfig tun0 192.168.0.10 netmask 255.255.255.0# æŸ¥çœ‹ tun0 ç½‘å¡ifconfig tun0\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("p",[e._v("å¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELp1Jetic2ic1DZvl277MdHhDNj8CkF7TukuH888Z3tGYiaPe3603BqnE1iaw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("3.é€šè¿‡å‘½ä»¤åˆ›å»ºTUNè®¾å¤‡")]),e._v(" "),_("p",[e._v("åœ¨ VPN ä¸­æˆ‘ä»¬å¯ä»¥å€ŸåŠ© TUN/TAP æ¥æ•è·ç”¨æˆ·å‘å‡ºçš„æŠ¥æ–‡ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("0x03 è™šæ‹Ÿé€šä¿¡é“¾è·¯")])]),e._v(" "),_("p",[e._v("æŒ‰ç…§ TUN/TAP çš„å·¥ä½œç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ç¨‹åºç›´æ¥è¯»å†™è™šæ‹Ÿç½‘å¡(ä¹Ÿå°±æ˜¯ç‰©ç†ç½‘å¡å®é™…æ”¶å‘æŠ¥æ–‡çš„è¿‡ç¨‹)ï¼Œæ¥å®ç°æ•è·ç”¨æˆ·æ•°æ®ä»¥åŠä¼ é€’ç”¨æˆ·æ•°æ®ã€‚(TUN å’Œ TAP æœ‰ä¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œä¸‹æ–‡æˆ‘ä»¬å°†ä»¥æ›´ç®€å•çš„ TUN ä½œä¸ºä¾‹å­)")]),e._v(" "),_("p",[e._v("éšåï¼Œä½äºä¸åŒä¸»æœºä¸Šçš„ç¨‹åºé€šè¿‡ socket è¿›è¡Œé€šä¿¡ï¼Œå°†ä»è™šæ‹Ÿç½‘å¡çš„æ¥æ”¶çš„æ•°æ®é€šè¿‡ socket å‘é€ç»™å¯¹ç«¯ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª VPN çš„é›å½¢äº†ï¼Œå¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELphfFiamqmJodTFUaV4BkhhViblWZ2Ao6tkjoMOPiaDpbCHTOIhFbbdENYQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("4.è™šæ‹Ÿé€šä¿¡é“¾è·¯å·¥ä½œæµç¨‹")]),e._v(" "),_("p",[_("code",[e._v("simpletun")]),e._v(" æ˜¯è¿™ç§æ–¹æ¡ˆçš„æœ€å°å®ç°(æºç ä»… 300+ è¡Œï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œå­¦ä¹ )ï¼Œåœ¨æºç ä¸­å®ç°äº†åˆ›å»ºè™šæ‹Ÿç½‘ç»œè®¾å¤‡ä»¥åŠ socket é€šä¿¡ï¼Œå€ŸåŠ© "),_("code",[e._v("simpletun")]),e._v(" å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿè¿›è¡ŒéªŒè¯ã€‚")]),e._v(" "),_("p",[e._v("éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œ"),_("code",[e._v("simpletun")]),e._v(" å¯åŠ¨åéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é…ç½®è™šæ‹Ÿç½‘å¡çš„ ip åœ°å€ï¼Œå½“ ip åœ°å€æœªé…ç½®æ—¶ï¼Œä¸¤ç«¯ç›¸äº’å‘é€æ•°æ®(éƒ¨åˆ†æ“ä½œç³»ç»Ÿä¼šè‡ªåŠ¨å‘é€)ä¼šé€ æˆç¨‹åºå¼‚å¸¸é€€å‡ºï¼Œæ‰€ä»¥åœ¨ä»£ç ä¸­æ·»åŠ ä¸€ä¸ª "),_("code",[e._v("sleep(30)")]),e._v(" ä¾¿äºæˆ‘ä»¬é…ç½® ip åœ°å€ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELpMoHicTXm47bbhCoKu5RhLym15n64rIlWLqskaiasRgp5oBVctu48VbYA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("5.åœ¨simpletunä¸­æ·»åŠ sleep")]),e._v(" "),_("p",[e._v("åœ¨ä¸¤å° "),_("code",[e._v("Ubuntu")]),e._v(" æµ‹è¯•ç¯å¢ƒä¸‹é…ç½®å¹¶è¿›è¡ŒéªŒè¯ï¼š")]),e._v(" "),_("ul",[_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# Aä¸»æœº# ç¼–è¯‘ simpletungcc simpletun.c -Wall -o vpn# ä½œä¸º vpn server å¯åŠ¨ï¼Œå¹¶å¼€å¯ debugï¼Œé»˜è®¤ç›‘å¬ 55555sudo ./vpn -i tun0 -s -d# é…ç½® tun ç½‘å¡åœ°å€sudo ifconfig tun0 192.168.0.10 netmask 255.255.255.0\n# Bä¸»æœº# ç¼–è¯‘ simpletungcc simpletun.c -Wall -o vpn# ä½œä¸º vpn client å¯åŠ¨ï¼Œè¿æ¥ serverï¼Œå¹¶å¼€å¯ debugsudo ./vpn -i tun0 -c 10.11.33.50 -d# é…ç½® tun ç½‘å¡åœ°å€sudo ifconfig tun0 192.168.0.11 netmask 255.255.255.0\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br"),_("span",{staticClass:"line-number"},[e._v("2")]),_("br")])]),_("p",[e._v("æ­¤æ—¶ä¸¤å°ä¸»æœºä½äº "),_("code",[e._v("192.168.0.0/24")]),e._v(" è™šæ‹Ÿç½‘ç»œç½‘æ®µä¸‹ï¼Œå¯ä»¥ç›¸äº’é€šä¿¡ï¼Œå¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELpWwVbA2pFJp0RGZ97LrhQbrNynQ6ptunGiaA8b6tSDNkNnecOkqnicuyQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("6.è™šæ‹Ÿé€šä¿¡é“¾è·¯ä¸¤ç«¯é€šä¿¡")]),e._v(" "),_("p",[_("strong",[e._v("0x04 è®¿é—®å†…ç½‘ç½‘æ®µ")])]),e._v(" "),_("p",[e._v("åœ¨ä¸Šæ–‡çš„éªŒè¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸¤ç«¯çš„è™šæ‹Ÿç½‘ç»œæ­å»ºå’Œé€šä¿¡ï¼Œä½†å®é™… VPN çš„ä½¿ç”¨åœºæ™¯æ˜¯éœ€è¦é€šè¿‡ VPN è®¿é—®æ•´ä¸ªå†…ç½‘ç½‘æ®µï¼Œåœ¨è¿™ç§ä½¿ç”¨åœºæ™¯ä¸‹ï¼ŒVPN server è‡³å°‘é…ç½®æœ‰ä¸¤å¼ ç‰©ç†ç½‘å¡ï¼Œå…¶ä¸­ä¸€å¼ æ¥å…¥å†…ç½‘ç½‘æ®µï¼Œå¦ä¸€å¼ åˆ™è¿æ¥åˆ°äº’è”ç½‘ã€‚")]),e._v(" "),_("p",[e._v("æŒ‰ç…§ "),_("code",[e._v("0x03 è™šæ‹Ÿé€šä¿¡é“¾è·¯")]),e._v(" çš„é“¾è·¯ï¼ŒVPN client å‘é€æŠ¥æ–‡åˆ°å†…ç½‘ä¸»æœºï¼ŒVPN server æ¥æ”¶åˆ°è¯¥æŠ¥æ–‡åï¼Œå°†å…¶å†™å…¥åˆ°è™šæ‹Ÿç½‘å¡ä¸­ï¼ŒéšåæŠ¥æ–‡è¿›å…¥ TCP/IP åè®®æ ˆï¼Œä½†æ˜¯ç”±äº IP åœ°å€ä¸æ˜¯ VPN server è‡ªå·±ï¼Œè¯¥æŠ¥æ–‡ä¼šè¢«ä¸¢å¼ƒï¼Œæ— æ³•æ­£å¸¸è¿›è¡Œé€šä¿¡ï¼›è¿™é‡Œæˆ‘ä»¬éœ€è¦å€ŸåŠ©ã€ŒæŠ¥æ–‡è½¬å‘ã€ï¼Œå°†å†…ç½‘æŠ¥æ–‡ä»è™šæ‹Ÿç½‘å¡è½¬å‘åˆ°å†…ç½‘ç½‘å¡ä¸Šã€‚å…¶æ–°çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELp6XGlRAoF7BW9TSVFQjRjmfDxbItWHx7GGTGrkjVl3iblrOCE59fcXoA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("7.VPNè®¿é—®å†…ç½‘ç½‘æ®µ")]),e._v(" "),_("blockquote",[_("p",[e._v("VPN server ä¸€èˆ¬ä¼šä½œä¸ºå†…ç½‘ç½‘å…³ï¼Œå†…ç½‘ä¸»æœºæ— éœ€ä»»ä½•é¢å¤–é…ç½®å°±å¯ä»¥åœ¨è™šæ‹Ÿç½‘æ®µä¸‹æ­£å¸¸å·¥ä½œã€‚")])]),e._v(" "),_("p",[e._v("æˆ‘ä»¬æŒ‰ç…§è¯¥æµç¨‹é…ç½®æµ‹è¯•ç¯å¢ƒï¼Œå¤ç”¨ "),_("code",[e._v("0x03 è™šæ‹Ÿé€šä¿¡é“¾è·¯")]),e._v(" ä¸­çš„ç¯å¢ƒï¼Œåœ¨ VPN server ä¸Šæˆ‘ä»¬ä½¿ç”¨ docker æ¨¡æ‹Ÿå†…ç½‘ç½‘æ®µå’Œä¸»æœºï¼Œå…¶ç¯å¢ƒæ­å»ºå¦‚ä¸‹ï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELpQ6sM14pf9zVBSdyBn3ksnVQqfTS7aGHkEx7iaXjD1vhQzWQ9Y6vdoWw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("8.VPNæµ‹è¯•ç¯å¢ƒæ­å»º")]),e._v(" "),_("p",[e._v("ç„¶åæŒ‰ç…§ "),_("code",[e._v("0x03 è™šæ‹Ÿé€šä¿¡é“¾è·¯")]),e._v(" ä¸­çš„æ–¹å¼ï¼Œå¯åŠ¨ "),_("code",[e._v("simpletun")]),e._v(" å¹¶ä½¿ç”¨ "),_("code",[e._v("ifconfig")]),e._v(" é…ç½® ip åœ°å€ï¼Œåˆ›å»ºè™šæ‹Ÿé€šä¿¡é“¾è·¯ï¼›ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å¼€å¯æŠ¥æ–‡è½¬å‘ï¼š")]),e._v(" "),_("ul",[_("li"),e._v(" "),_("li")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v('# ä¸´æ—¶å¼€å¯æŠ¥æ–‡è½¬å‘echo "1" > /proc/sys/net/ipv4/ip_forward\n')])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("blockquote",[_("p",[e._v("å®é™…ä¸Šåœ¨è¯¥æµ‹è¯•ç¯å¢ƒä¸‹ï¼Œdocker ä¼šè‡ªåŠ¨å¼€å¯æŠ¥æ–‡è½¬å‘")])]),e._v(" "),_("p",[e._v("å†é€šè¿‡ "),_("code",[e._v("iptables")]),e._v(" é…ç½®è½¬å‘ç­–ç•¥ï¼Œå¦‚ä¸‹ï¼š")]),e._v(" "),_("ul",[_("li"),e._v(" "),_("li"),e._v(" "),_("li"),e._v(" "),_("li")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# å°†å…¥å£ç½‘å¡ã€æ¥æºipä¸º 192.168.0.0/24 è½¬å‘è‡³ docker0sudo iptables -A FORWARD -i tun0 -s 192.168.0.0/24 -o docker0 -j ACCEPT# å°†å…¥å£ç½‘å¡ã€ç›®çš„ipä¸º 192.168.0.0/24 è½¬å‘è‡³ tun0sudo iptables -A FORWARD -i docker0 -d 192.168.0.0/24 -o tun0 -j ACCEPT\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("blockquote",[_("p",[e._v("å®é™…ä¸Šåœ¨è¯¥æµ‹è¯•ç¯å¢ƒä¸‹ï¼Œç¬¬äºŒæ¡å¯ä»¥ä¸ç”¨é…ç½®ï¼Œå› ä¸º docker ä¼šè‡ªåŠ¨é…ç½®è½¬å‘ç­–ç•¥ï¼Œä¼šè¦†ç›–è¿™æ¡ç­–ç•¥")])]),e._v(" "),_("p",[e._v("é™¤æ­¤ä¹‹å¤–ï¼Œä¸ºäº†åœ¨ VPN client å¯ä»¥è®¿é—®åˆ°å†…ç½‘ä¸»æœºï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ è·¯ç”±ï¼š")]),e._v(" "),_("ul",[_("li"),e._v(" "),_("li")]),e._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[e._v("# VPN client æ·»åŠ å†…ç½‘ç½‘æ®µè·¯ç”±ï¼Œè®¾ç½®ä¸ºè™šæ‹Ÿç½‘ç»œè®¾å¤‡ tun0sudo route add -net 172.17.0.0/24 tun0\n")])]),e._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[e._v("1")]),_("br")])]),_("p",[e._v("æ­¤æ—¶ VPN é…ç½®å®Œæˆï¼Œå†…ç½‘ä¸»æœºå’Œ VPN client ç›¸äº’è¿é€šï¼š")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/3k9IT3oQhT3azzeVwiahwN2PtGgibb2ELpfMGuT5yymJG2mOLYyS22EY3w6L1NGkDXaWGe2WkZNTw7sC4c7iaTJXw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[e._v("9.å†…ç½‘ä¸»æœºè®¿é—®ä»¥åŠéªŒè¯")]),e._v(" "),_("p",[_("strong",[e._v("0x05 æ‹“ å±•")])]),e._v(" "),_("p",[e._v("ä¸Šæ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨æœ€å°å®ç°éªŒè¯äº† VPN çš„å·¥ä½œåŸç†ï¼Œä½†æ˜¯å®é™…åœºæ™¯å´æ¯”è¿™ä¸ªå¤æ‚å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘ä»¬ç®€å•æŠ›å‡ºä¸€äº›é—®é¢˜ä½œä¸ºæ‹“å±•å­¦ä¹ ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("1.VPNä½œä¸ºç½‘å…³ï¼Ÿ")]),e._v("\nVPN server ä¸€èˆ¬ä½œä¸ºç½‘å…³è¿›è¡Œé…ç½®ï¼Œå†…ç½‘ä¸»æœºä¸ç”¨è¿›è¡Œé¢å¤–é…ç½®ï¼Œä¹Ÿå¯ä»¥æŠŠæŠ¥æ–‡å‘é€ç»™ VPN serverã€‚")]),e._v(" "),_("p",[_("strong",[e._v("2.UDPé€šä¿¡é“¾è·¯ï¼Ÿ")]),e._v("\nåœ¨ "),_("code",[e._v("simpletun")]),e._v(" ä¸­ VPN server å’Œ client ä¹‹é—´ä½¿ç”¨ TCP è¿›è¡Œé€šä¿¡ï¼Œä½†æ˜¯åœ¨å®é™…åœºæ™¯ä¸€èˆ¬ä½¿ç”¨ UDP è¿›è¡Œé€šä¿¡ã€‚")]),e._v(" "),_("p",[e._v("å½“ä½¿ç”¨ TCP ä½œä¸ºé€šä¿¡éš§é“æ—¶ï¼Œå¹¶ä¸”ä¸Šå±‚åº”ç”¨ä¹Ÿä½¿ç”¨ TCPï¼Œä¹Ÿå°±æ˜¯ "),_("code",[e._v("tcp in tcp")]),e._v("ï¼Œå½“å‡ºç°ä¸¢åŒ…æ—¶ï¼Œä¸Šå±‚åº”ç”¨çš„ TCP å’Œ VPN é€šä¿¡éš§é“çš„ TCP éƒ½ä¼šè¿›è¡Œé‡ä¼ ï¼Œä»è€Œé€šä¿¡ä¸­å‡ºç°å¤§é‡çš„é‡ä¼ æŠ¥æ–‡ï¼Œé™ä½é€šä¿¡æ•ˆç‡ï¼›å¦‚æœåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»¥ UDP ä½œä¸ºé€šä¿¡éš§é“ï¼Œ"),_("code",[e._v("tcp in udp")]),e._v("ï¼Œä¸¢åŒ…åå°†åªç”±ä¸Šå±‚åº”ç”¨çš„ TCP è¿›è¡Œé‡ä¼ ã€‚")]),e._v(" "),_("p",[_("strong",[e._v("3.etc")])]),e._v(" "),_("p",[_("strong",[e._v("0x06 æ€» ç»“")])]),e._v(" "),_("p",[e._v("æœ€åæ„Ÿè°¢ rook1e@çŸ¥é“åˆ›å®‡404å®éªŒå®¤ å°ä¼™ä¼´åŒæˆ‘ä¸€èµ·å­¦ä¹ å’Œç ”ç©¶ï¼Œè§£å†³äº†è¯¸å¤šé—®é¢˜ã€‚")]),e._v(" "),_("p",[e._v("æœ¬æ–‡ä» VPN åŸç†å‡ºå‘ï¼Œä»‹ç»äº†å…³é”®ä½œç”¨çš„ TUN/TAP è™šæ‹Ÿç½‘ç»œè®¾å¤‡ï¼Œå¹¶ç»“åˆ "),_("code",[e._v("simpletun")]),e._v(" åˆ›å»ºäº†ä¸¤ç«¯çš„è™šæ‹Ÿé€šä¿¡é“¾è·¯ï¼Œæœ€åé…åˆæŠ¥æ–‡è½¬å‘ï¼Œå®ç°å¹¶éªŒè¯äº† VPN çš„é€šä¿¡å·¥ä½œåŸç†ã€‚")]),e._v(" "),_("p",[e._v("VPN çš„å®ç°è¾ƒä¸ºç®€å•ï¼Œä½†æ¶‰åŠåˆ°å„ç§ç»†ææœ«èŠ‚çš„ç½‘ç»œçŸ¥è¯†ï¼›è¿™é‡Œçš„æœ€å°éªŒè¯ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬å®ç°æ›´ä¸ºå¤æ‚çš„ VPN æˆ–åŸºäº VPN æŠ€æœ¯çš„å…¶ä»–é¡¹ç›®æä¾›å‚è€ƒã€‚")]),e._v(" "),_("hr"),e._v(" "),_("p",[e._v("References:\nhttps://zh.wikipedia.org/wiki/%E8%99%9B%E6%93%AC%E7%A7%81%E4%BA%BA%E7%B6%B2%E8%B7%AF\nhttps://zhaohuabing.com/post/2020-02-24-linux-taptun/\nhttps://www.cnblogs.com/sparkdev/p/9262825.html\nhttps://serverfault.com/questions/39307/linux-ip-forwarding-for-openvpn-correct-firewall-setup\nhttps://liuyehcf.github.io/2019/08/25/OpenVPN-%E8%BD%AC%E8%BD%BD/\nhttps://yunfwe.cn/2018/05/24/2018/%E4%B8%80%E8%B5%B7%E5%8A%A8%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AAVPN/\nhttps://github.com/gregnietsky/simpletun")]),e._v(" "),_("p",[_("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[_("strong",[e._v("å¾€ æœŸ çƒ­ é—¨")])]),e._v(" "),_("p",[e._v("(ç‚¹å‡»å›¾ç‰‡è·³è½¬)")]),e._v(" "),_("p",[_("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=MzAxNDY2MTQ2OQ==&mid=2650947935&idx=1&sn=2fa12756c9e844ffc8098cab126f29bf&chksm=8079036db70e8a7b0d63a5a84ac2bc2ce46ce6d390192347ace1854e79d04a2e52070165f204&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[_("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("CVE-2021-33514ï¼šNetgear å¤šæ¬¾äº¤æ¢æœºå‘½ä»¤æ³¨å…¥æ¼æ´"),_("OutboundLink")],1)]),e._v(" "),_("p",[_("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=MzAxNDY2MTQ2OQ==&mid=2650947894&idx=1&sn=7fe7a66b5b1daffeac64b73333e9db3f&chksm=80790304b70e8a128397f499834f42012938e4f09cc537539a9bc7f2e2f5312e5e7812eb81b7&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[_("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("èµ ä¹¦ |ã€Š404 Paper ç²¾ç²¹ã€‹ç¬¬ä¸€æœŸå‘å¸ƒå•¦ï¼"),_("OutboundLink")],1)]),e._v(" "),_("p",[_("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=MzAxNDY2MTQ2OQ==&mid=2650947757&idx=1&sn=677b6c36c52ce55225ae30f136b7ba5b&chksm=8079029fb70e8b89ecc9506aff4852d15d1a0237b99f691864ba7328581dae66e78f5f4d6c02&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"}},[_("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("åˆ©ç”¨ Pocsuite3 æ¡†æ¶ç¼–å†™ poc å®æˆ˜æ¡ˆä¾‹"),_("OutboundLink")],1)]),e._v(" "),_("p",[_("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[_("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}})]),e._v(" "),_("p",[_("strong",[e._v("è§‰å¾—ä¸é”™ç‚¹ä¸ªâ€œåœ¨çœ‹â€å“¦")]),e._v("**"),_("img",{attrs:{src:"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",alt:"å›¾ç‰‡"}}),e._v("**")]),e._v(" "),_("p",[_("a",{attrs:{href:"https://mp.weixin.qq.com/s/uM2U4RAJCGdxYvtsrHPbYg##",target:"_blank",rel:"noopener noreferrer"}},[e._v("é˜…è¯»åŸæ–‡"),_("OutboundLink")],1)]),e._v(" "),_("p",[e._v("å–œæ¬¢æ­¤å†…å®¹çš„äººè¿˜å–œæ¬¢")]),e._v(" "),_("p",[e._v("[Spring Boot é’ççš„æ•°æ®åº“è¿æ¥æ± HikariCPä¸ºä»€ä¹ˆæ˜¯å²ä¸Šæœ€å¿«çš„ï¼ŸSpring Boot é’ççš„æ•°æ®åº“è¿æ¥æ± HikariCPä¸ºä»€ä¹ˆæ˜¯å²ä¸Šæœ€å¿«çš„ï¼Ÿ...ç çŒ¿æŠ€æœ¯ä¸“æ ä¸å–œæ¬¢ä¸çœ‹çš„åŸå› ç¡®å®šå†…å®¹è´¨é‡ä½ ä¸çœ‹æ­¤å…¬ä¼—å·](javascript:void(0)ğŸ˜‰[F5 BIG-IP & Node-REDæ¼æ´å¤ç°é›†åˆF5 BIG-IP & Node-REDæ¼æ´å¤ç°é›†åˆ...ç™½å¸½å­ç¤¾åŒºä¸å–œæ¬¢ä¸çœ‹çš„åŸå› ç¡®å®šå†…å®¹è´¨é‡ä½ ä¸çœ‹æ­¤å…¬ä¼—å·](javascript:void(0)ğŸ˜‰[å‰ç«¯ææ‡‚è¿™8ç§ã€Œæ–‡ä»¶ä¸Šä¼ ã€å°±å¤Ÿäº†å‰ç«¯ææ‡‚è¿™8ç§ã€Œæ–‡ä»¶ä¸Šä¼ ã€å°±å¤Ÿäº†...å‰ç«¯å°è±¡ä¸å–œæ¬¢ä¸çœ‹çš„åŸå› ç¡®å®šå†…å®¹è´¨é‡ä½ ä¸çœ‹æ­¤å…¬ä¼—å·](javascript:void(0)ğŸ˜‰")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://mp.weixin.qq.com/mp/qrcode?scene=10000004&size=102&__biz=MzAxNDY2MTQ2OQ==&mid=2650947968&idx=1&sn=45e66431cca37622a4441c9207a2305b&send_time=",alt:"img"}})]),e._v(" "),_("p",[e._v("å¾®ä¿¡æ‰«ä¸€æ‰«\nå…³æ³¨è¯¥å…¬ä¼—å·")])])}),[],!1,null,null,null);t.default=i.exports}}]);