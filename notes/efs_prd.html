<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>张凡的笔记</title>
    <meta name="description" content="种一棵树最好的时间是十年前，其次是现在">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.d429b60d.css" as="style"><link rel="preload" href="/assets/js/app.f9a08ccb.js" as="script"><link rel="preload" href="/assets/js/2.3a03d1d4.js" as="script"><link rel="preload" href="/assets/js/11.e3e1753c.js" as="script"><link rel="prefetch" href="/assets/js/10.a7e69a67.js"><link rel="prefetch" href="/assets/js/12.5e73ab9b.js"><link rel="prefetch" href="/assets/js/13.6034059a.js"><link rel="prefetch" href="/assets/js/14.90348d63.js"><link rel="prefetch" href="/assets/js/3.d7c6e660.js"><link rel="prefetch" href="/assets/js/4.206dbc5a.js"><link rel="prefetch" href="/assets/js/5.248d0955.js"><link rel="prefetch" href="/assets/js/6.e3c11ef8.js"><link rel="prefetch" href="/assets/js/7.40cca78c.js"><link rel="prefetch" href="/assets/js/8.cca41018.js"><link rel="prefetch" href="/assets/js/9.2039ccb8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d429b60d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">张凡的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">笔记</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link router-link-active">笔记</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>需求文档</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/baiduyun.html" class="sidebar-link">百度网盘需求文档</a></li><li><a href="/notes/efs_prd.html" class="active sidebar-link">大华分布式存储系统需求文档</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/efs_prd.html#大华分布式存储系统efs-prd" class="sidebar-link">大华分布式存储系统EFS PRD</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/efs_prd.html#" class="sidebar-link"></a></li><li class="sidebar-sub-header"><a href="/notes/efs_prd.html#概述" class="sidebar-link">概述</a></li><li class="sidebar-sub-header"><a href="/notes/efs_prd.html#产品结构" class="sidebar-link">产品结构</a></li><li class="sidebar-sub-header"><a href="/notes/efs_prd.html#功能需求" class="sidebar-link">功能需求</a></li><li class="sidebar-sub-header"><a href="/notes/efs_prd.html#非功能需求" class="sidebar-link">非功能需求</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>我参与的项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>经典开源项目学习</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="大华分布式存储系统efs-prd"><a href="#大华分布式存储系统efs-prd" aria-hidden="true" class="header-anchor">#</a> 大华分布式存储系统EFS PRD</h2> <p>版本历史</p> <table><thead><tr><th>文档版本</th> <th>撰写时间</th> <th>变更人</th> <th>属性</th></tr></thead> <tbody><tr><td>V1.0</td> <td>2020-4-17</td> <td>张凡</td> <td>撰写文档</td></tr> <tr><td></td> <td></td> <td></td> <td></td></tr></tbody></table> <h3 id=""><a href="#" aria-hidden="true" class="header-anchor">#</a></h3> <h3 id="概述"><a href="#概述" aria-hidden="true" class="header-anchor">#</a> 概述</h3> <p>大华是国际领先的安防厂商, 摄像头视频是其主要业务,
其中视频存储是一个非常重要的问题, 大华之前用于视频存储的是单机存储系统,
单机存储系统在过去很好地支撑了大华的视频存储业务, 但是随着高清视频摄像头,
以及城市级交通解决方案的出现, 单机存储在支撑快速增长的视频数据量方面,
显现出容量不足, 不易拓展的问题, 针对此问题, 大华设计开发了分布式存储,
能够很好地适应视频数据量的增长, 以及拓展性,
并作为基础存储方案支撑大华在大数据领域的解决方案.</p> <p>大华分布式存储系统主要是一种高性能的分布式对象存储系统,
可以为用户提供可靠的文件读写功能, 用户除此之外,
还可以建立bucket对文件对象进行管理, 该系统为用户提供高性能的文件读功能,
用户可以对文件进行并发读, 文件系统的容量可以根据用户需求进行按需拓展或减少,
并且该系统可以自动对于系统内数据进行负载均衡, 并且针对网络异常, 磁盘损坏,
设备离线, 等问题, 系统可以自动自愈, 无需人工介入, 具有较高的稳定性和安全性.</p> <h3 id="产品结构"><a href="#产品结构" aria-hidden="true" class="header-anchor">#</a> 产品结构</h3> <h4 id="产品功能结构图"><a href="#产品功能结构图" aria-hidden="true" class="header-anchor">#</a> 产品功能结构图</h4> <p><img src="/efs_prd/b81d2be04e67d897199829549e2b512e.png" alt=""></p> <h4 id="产品信息结构图"><a href="#产品信息结构图" aria-hidden="true" class="header-anchor">#</a> 产品信息结构图</h4> <p><img src="/efs_prd/bc51917abf687a0ff5cc53e47fcc0924.png" alt=""></p> <h3 id="功能需求"><a href="#功能需求" aria-hidden="true" class="header-anchor">#</a> 功能需求</h3> <h4 id="功能总览"><a href="#功能总览" aria-hidden="true" class="header-anchor">#</a> 功能总览</h4> <table><thead><tr><th>功能模块</th> <th>功能点</th> <th>功能描述</th> <th>优先级</th></tr></thead> <tbody><tr><td>用户管理模块</td> <td>用户注册</td> <td>为系统添加新的用户</td> <td>高</td></tr> <tr><td></td> <td>用户登录</td> <td>用户登录入系统</td> <td>高</td></tr> <tr><td></td> <td>用户注销</td> <td>用户退出系统</td> <td>高</td></tr> <tr><td>文件管理模块</td> <td>上传文件</td> <td>将本地文件上传至系统中</td> <td>高</td></tr> <tr><td></td> <td>下载文件</td> <td>将系统中文件下载至本地</td> <td>高</td></tr> <tr><td></td> <td>删除文件</td> <td>将文件从系统中删除</td> <td>高</td></tr> <tr><td></td> <td>创建bucket</td> <td>在系统中创建bucket, 作为文件存放的目录</td> <td>中</td></tr> <tr><td></td> <td>列出bucket内文件</td> <td>将bucket中包含的文件列出</td> <td>中</td></tr> <tr><td></td> <td>删除bucket</td> <td>将bucket从系统中删除</td> <td>中</td></tr> <tr><td>节点管理模块</td> <td>节点上线</td> <td>将数据节点加入系统</td> <td>高</td></tr> <tr><td></td> <td>节点下线</td> <td>将数据节点从系统删除</td> <td>高</td></tr> <tr><td>运维管理模块</td> <td>查看系统信息</td> <td>查看元数据服务器状态 查看系统中已使用容量空间, 剩余容量空间,</td> <td>低</td></tr></tbody></table> <h4 id="功能详情"><a href="#功能详情" aria-hidden="true" class="header-anchor">#</a> 功能详情</h4> <h5 id="用户管理"><a href="#用户管理" aria-hidden="true" class="header-anchor">#</a> 用户管理</h5> <h6 id="用户登录"><a href="#用户登录" aria-hidden="true" class="header-anchor">#</a> 用户登录</h6> <p><img src="/efs_prd/3dad758276263b1cba48c3380511a0fd.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户打开文件存储系统, 且之前未登录</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户输入用户名, 密码 <br>元数据服务器检测用户名, 密码是否正确</td></tr> <tr><td>后置条件</td> <td>登录成功进入文件管理页面, 失败则停留在登录页面</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/a6c3b9306d1649a9019dbe06dabc8561.png" alt=""></p> <h6 id="用户注册"><a href="#用户注册" aria-hidden="true" class="header-anchor">#</a> 用户注册</h6> <p><img src="/efs_prd/f20f6ea10d3f9784f1be037ee2dceac7.png" alt=""></p> <p><img src="/efs_prd/b696819073c01e973b70df3cbc1083e3.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户打开文件存储系统, 且之前未登录</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户点击”注册”按钮</td></tr> <tr><td>需求说明</td> <td>用户名为8-20位字符, 以数字, 字母, 汉字, _开头 <br>用户在注册页面输入用户名, 密码 密码为8-20位数字, 字母混合</td></tr> <tr><td>后置条件</td> <td>注册成功后, 重返登录页面</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/e4c3d40f52322099c01d1bf8cac6ea64.png" alt=""></p> <h6 id="用户注销"><a href="#用户注销" aria-hidden="true" class="header-anchor">#</a> 用户注销</h6> <p><img src="/efs_prd/7c588883779fe51d0bd7f68f18b65c6a.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户打开文件存储系统, 之前已登录</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户点击”退出”按钮 <br>元数据服务器检查用户权限</td></tr> <tr><td>后置条件</td> <td>用户注销成功后, 进入登录页面</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/e8a58152f3f61984bec6acca965648af.png" alt=""></p> <h5 id="文件管理"><a href="#文件管理" aria-hidden="true" class="header-anchor">#</a> 文件管理</h5> <h6 id="上传文件"><a href="#上传文件" aria-hidden="true" class="header-anchor">#</a> 上传文件</h6> <p>当用户已经登录后, 选中其具有权限的bucket后, 可以向文件区直接拖入本地文件,</p> <p>也可以通过点击上传按钮, 之后选中本地文件进行上传</p> <p>1 拖动文件进入文件区进行上传</p> <p><img src="/efs_prd/1b07898eaff86429c60aa6103571206a.png" alt=""></p> <p><img src="/efs_prd/10b9cb780dca78aa88de06cfa9e0a0e1.png" alt=""></p> <p>2 点击上传文件按钮进行上传</p> <p><img src="/efs_prd/10b9cb780dca78aa88de06cfa9e0a0e1.png" alt=""></p> <p><img src="/efs_prd/2fac76893a73f43d650a06357cf22339.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户已登录, 用户选定某个bucket</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户选择上传文件, 或者拖动上传文件至文件区    <br>元数据服务器检查用户权限  <br>元数据服务器检查用户配额  <br>元数据服务器创建文件元数据  <br>元数据服务器向客户端返回数据节点列表  <br>客户端向数据节点写入  <br>数据节点向元数据服务器汇报收到的数据</td></tr> <tr><td>后置条件</td> <td>将用户上传文件在文件区显示</td></tr> <tr><td>需求说明</td> <td>文件大小为0kb-10GB 如果文件大小为0kb, 则不向数据节点写入</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/8ba5e14c6ce08c9f2d87e44d64029feb.png" alt=""></p> <h6 id="下载文件"><a href="#下载文件" aria-hidden="true" class="header-anchor">#</a> 下载文件</h6> <p>当用户已经登录后, 选中其具有权限的bucket后, 可以向文件区双击文件下载,</p> <p>也可以通过对文件右键点击下载按钮, 进行下载</p> <p>双击下载</p> <p><img src="/efs_prd/1b16cdb93f8d63d10924e0222657bb89.png" alt=""></p> <p>右键下载</p> <p><img src="/efs_prd/10b9cb780dca78aa88de06cfa9e0a0e1.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户已登录, 用户选定某个bucket</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户向元数据服务器请求下载文件   <br>元数据服务器检查用户权限  <br>元数据服务器查找文件对应数据节点信息, 并向客户端返回  <br>客户端从数据节点读取相应的文件数据</td></tr> <tr><td>后置条件</td> <td>客户端获取文件数据</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/2a1ad34d01476c8eced7d2c52168c321.png" alt=""></p> <h6 id="删除文件"><a href="#删除文件" aria-hidden="true" class="header-anchor">#</a> 删除文件</h6> <p>当用户已经登录后, 选中其具有权限的bucket后,
可以向文件区通过对文件右键点击删除文件, 进行删除</p> <p><img src="/efs_prd/10b9cb780dca78aa88de06cfa9e0a0e1.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户已登录, 用户选定某个bucket</th></tr></thead> <tbody><tr><td>流程说明</td> <td>客户端请求删除文件   <br>元数据服务器检查用户权限  <br>元数据服务器将文件加入删除列表, 并向客户端返回删除成功  <br>数据节点向元数据服务器发送心跳  <br>元数据服务器向数据节点下发删除 <br> 数据节点删除成功</td></tr> <tr><td>后置条件</td> <td>文件从系统删除, 系统不显示该文件</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/a0b7921222bf3526d8b4f015fcf642ae.png" alt=""></p> <h6 id="创建bucket"><a href="#创建bucket" aria-hidden="true" class="header-anchor">#</a> 创建bucket</h6> <p>当用户已经登录后, 可以向bucket区通过点击”+”号进行创建bucket</p> <p><img src="/efs_prd/9f81dc1ae73283b3dd11bafb62055fd5.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户已登录</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户向元数据服务器申请创建bucket <br>元数据服务器创建bucket</td></tr> <tr><td>后置条件</td> <td>bucket区显示bucket</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/ce7635fdefa8a3a4b7e9f9f02231c8d0.png" alt=""></p> <h6 id="列出bucket内文件"><a href="#列出bucket内文件" aria-hidden="true" class="header-anchor">#</a> 列出bucket内文件</h6> <p>当用户已经登录后, 可以向bucket区通过双击bucket来列出bucket中文件</p> <p><img src="/efs_prd/395903a12a85f81cfdfb73d77057be9f.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户已登录</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户在bucket区选中bucket   <br>用户请求元数据服务器列出bucket内文件  <br>元数据服务器检查用户对该bucket权限  <br>元数据服务器查找bucket内文件列表信息并返回</td></tr> <tr><td>后置条件</td> <td>将该bucket内文件信息在文件区列出</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/c429f5ee4ab22679ae843b772c9da9df.png" alt=""></p> <h6 id="删除bucket"><a href="#删除bucket" aria-hidden="true" class="header-anchor">#</a> 删除bucket</h6> <p><img src="/efs_prd/9f81dc1ae73283b3dd11bafb62055fd5.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户已登录</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户向元数据服务器请求删除bucket  <br> 元数据服务器检查用户权限  <br>元数据服务器删除bucket</td></tr> <tr><td>后置条件</td> <td>删除成功后, 该bucket不在bucket区显示</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/bb2b4663fb6b49bd8f6f7d6f289a65c8.png" alt=""></p> <h5 id="节点管理"><a href="#节点管理" aria-hidden="true" class="header-anchor">#</a> 节点管理</h5> <h6 id="节点上线"><a href="#节点上线" aria-hidden="true" class="header-anchor">#</a> 节点上线</h6> <p>用户可以通过点击节点管理页面的”+”按钮来添加节点</p> <p><img src="/efs_prd/43db649a2acf308cb5c8a27bfa776bd3.png" alt=""></p> <p><img src="/efs_prd/2ca19b0c0e85aadf5266cd2afd39e723.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户登录, 节点未加入系统中</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户点击”+”按钮, 在弹出框中输入节点ip    <br>元数据服务器向节点发出上线请求  <br>节点向元数据服务器注册  <br>元数据服务器返回成功</td></tr> <tr><td>后置条件</td> <td>在节点列表中显示该节点信息</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/1c758ed3c773bacf35489cce9e8bd106.png" alt=""></p> <h6 id="节点下线"><a href="#节点下线" aria-hidden="true" class="header-anchor">#</a> 节点下线</h6> <p>用户可以通过点击节点管理页面的”-”按钮来下线节点</p> <p><img src="/efs_prd/43db649a2acf308cb5c8a27bfa776bd3.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户登录, 节点已加入系统中</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户点击节点后”-”按钮   <br>元数据服务器向节点发出下线请求 <br> 元数据服务器向节点返回下线成功</td></tr> <tr><td>后置条件</td> <td>节点在节点列表中不再显示</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/474ccb98c5712324f7630d5ebc0d73f5.png" alt=""></p> <h5 id="运维管理"><a href="#运维管理" aria-hidden="true" class="header-anchor">#</a> 运维管理</h5> <h6 id="查看系统信息"><a href="#查看系统信息" aria-hidden="true" class="header-anchor">#</a> 查看系统信息</h6> <p><img src="/efs_prd/fa0df3e580affe850782c033320b2c02.png" alt=""></p> <table><thead><tr><th>前置条件</th> <th>用户已登录,</th></tr></thead> <tbody><tr><td>流程说明</td> <td>用户进入运维管理页面后, 展示元数据服务器, 及集群容量信息</td></tr> <tr><td>后置条件</td> <td></td></tr> <tr><td>需求说明</td> <td>元数据服务器状态有: 正常, 异常, 离线 容量信息为已用容量与总容量的饼图</td></tr> <tr><td>补充说明</td> <td></td></tr></tbody></table> <p><img src="/efs_prd/80ca8fd21857fc39ff1a17e9ca66b6c7.png" alt=""></p> <h3 id="非功能需求"><a href="#非功能需求" aria-hidden="true" class="header-anchor">#</a> 非功能需求</h3> <h4 id="性能需求"><a href="#性能需求" aria-hidden="true" class="header-anchor">#</a> 性能需求</h4> <p>满足同时接入1024个高清监控摄像头, 满足最大256数据节点, 20PB容量支持</p> <h4 id="稳定性需求"><a href="#稳定性需求" aria-hidden="true" class="header-anchor">#</a> 稳定性需求</h4> <p>系统具有自愈性, 当部分磁盘损坏时, 能根据备份数据自动复原数据</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/notes/baiduyun.html" class="prev">
          百度网盘需求文档
        </a></span> <span class="next"><a href="/notes/efs.html">
          EFS
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f9a08ccb.js" defer></script><script src="/assets/js/2.3a03d1d4.js" defer></script><script src="/assets/js/11.e3e1753c.js" defer></script>
  </body>
</html>
