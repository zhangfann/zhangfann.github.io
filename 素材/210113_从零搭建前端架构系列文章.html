<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>“从零搭建前端架构系列文章” | 我的收藏</title>
    <meta name="generator" content="VuePress 1.7.1">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-141019448-1"></script>
    <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
      
          gtag('config', 'UA-141019448-1');
      </script>
    <meta name="description" content="互联网素材合集">
    <meta name="baidu-site-verification" content="code-HRrK6kdBX1">
    
    <link rel="preload" href="/assets/css/0.styles.9b71556a.css" as="style"><link rel="preload" href="/assets/js/app.7c63b0d3.js" as="script"><link rel="preload" href="/assets/js/2.a4dd7d1f.js" as="script"><link rel="preload" href="/assets/js/59.19a6e9b9.js" as="script"><link rel="prefetch" href="/assets/js/10.890f1de9.js"><link rel="prefetch" href="/assets/js/11.d46010b1.js"><link rel="prefetch" href="/assets/js/12.29755bde.js"><link rel="prefetch" href="/assets/js/13.a9336bd4.js"><link rel="prefetch" href="/assets/js/14.63cba32b.js"><link rel="prefetch" href="/assets/js/15.f7d90acc.js"><link rel="prefetch" href="/assets/js/16.f2b1da74.js"><link rel="prefetch" href="/assets/js/17.461f0e48.js"><link rel="prefetch" href="/assets/js/18.b7049718.js"><link rel="prefetch" href="/assets/js/19.4ca05f35.js"><link rel="prefetch" href="/assets/js/20.177e23a0.js"><link rel="prefetch" href="/assets/js/21.378a1bf6.js"><link rel="prefetch" href="/assets/js/22.c57b7be2.js"><link rel="prefetch" href="/assets/js/23.a4d85dbc.js"><link rel="prefetch" href="/assets/js/24.5ac4214c.js"><link rel="prefetch" href="/assets/js/25.90a66205.js"><link rel="prefetch" href="/assets/js/26.2fa67636.js"><link rel="prefetch" href="/assets/js/27.037384b8.js"><link rel="prefetch" href="/assets/js/28.ad0011b5.js"><link rel="prefetch" href="/assets/js/29.f3f6bd50.js"><link rel="prefetch" href="/assets/js/3.1efef31b.js"><link rel="prefetch" href="/assets/js/30.002974d9.js"><link rel="prefetch" href="/assets/js/31.6cd44121.js"><link rel="prefetch" href="/assets/js/32.f616fd41.js"><link rel="prefetch" href="/assets/js/33.e7e5c5e4.js"><link rel="prefetch" href="/assets/js/34.490be7aa.js"><link rel="prefetch" href="/assets/js/35.d53e9087.js"><link rel="prefetch" href="/assets/js/36.c7de47b3.js"><link rel="prefetch" href="/assets/js/37.60afc4c1.js"><link rel="prefetch" href="/assets/js/38.759ee410.js"><link rel="prefetch" href="/assets/js/39.bc6e99f6.js"><link rel="prefetch" href="/assets/js/4.80be301c.js"><link rel="prefetch" href="/assets/js/40.668f8677.js"><link rel="prefetch" href="/assets/js/41.f40ce5a2.js"><link rel="prefetch" href="/assets/js/42.70f81356.js"><link rel="prefetch" href="/assets/js/43.0353e89c.js"><link rel="prefetch" href="/assets/js/44.d46e43d1.js"><link rel="prefetch" href="/assets/js/45.5662e2cb.js"><link rel="prefetch" href="/assets/js/46.3297e727.js"><link rel="prefetch" href="/assets/js/47.323765ac.js"><link rel="prefetch" href="/assets/js/48.bf444323.js"><link rel="prefetch" href="/assets/js/49.bdf1b3e1.js"><link rel="prefetch" href="/assets/js/5.8ae6446e.js"><link rel="prefetch" href="/assets/js/50.f7bc95f1.js"><link rel="prefetch" href="/assets/js/51.47f3a0d7.js"><link rel="prefetch" href="/assets/js/52.65483168.js"><link rel="prefetch" href="/assets/js/53.accfd232.js"><link rel="prefetch" href="/assets/js/54.42e63eb8.js"><link rel="prefetch" href="/assets/js/55.fc7e1c03.js"><link rel="prefetch" href="/assets/js/56.21ff5d5b.js"><link rel="prefetch" href="/assets/js/57.7287c899.js"><link rel="prefetch" href="/assets/js/58.7fcaa8f1.js"><link rel="prefetch" href="/assets/js/6.e14070e6.js"><link rel="prefetch" href="/assets/js/60.a215d28e.js"><link rel="prefetch" href="/assets/js/61.5ff33c1c.js"><link rel="prefetch" href="/assets/js/62.888f95d7.js"><link rel="prefetch" href="/assets/js/63.0743641c.js"><link rel="prefetch" href="/assets/js/64.6eb391b4.js"><link rel="prefetch" href="/assets/js/65.2d627a5b.js"><link rel="prefetch" href="/assets/js/7.f315dd5d.js"><link rel="prefetch" href="/assets/js/8.d3b7b824.js"><link rel="prefetch" href="/assets/js/9.aad71af4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9b71556a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">我的收藏</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/索引/Search.html" class="nav-link">
  搜索
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  en-US
</a></li><li class="dropdown-item"><!----> <a href="/素材/210113_从零搭建前端架构系列文章.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/索引/Search.html" class="nav-link">
  搜索
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">
  en-US
</a></li><li class="dropdown-item"><!----> <a href="/素材/210113_从零搭建前端架构系列文章.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <!----> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>“从零搭建前端架构系列文章”</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#背景" class="sidebar-link">背景</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#麦当劳的模式思考" class="sidebar-link">麦当劳的模式思考</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#萌生想法" class="sidebar-link">萌生想法</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#说干就干" class="sidebar-link">说干就干</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#整体大纲的把握" class="sidebar-link">整体大纲的把握</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#你会学到" class="sidebar-link">你会学到</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#web-的发展史" class="sidebar-link">WEB 的发展史</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#一、开山鼻祖-石器时代" class="sidebar-link">一、开山鼻祖 - 石器时代</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#静态网站" class="sidebar-link">静态网站</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#cgi技术" class="sidebar-link">CGI技术</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#二、前人种树-文明时代" class="sidebar-link">二、前人种树 - 文明时代</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#asp-和-jsp" class="sidebar-link">asp 和 jsp</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#ajax-的出现" class="sidebar-link">AJAX 的出现</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#三、化繁为简-工业革命时代" class="sidebar-link">三、化繁为简 - 工业革命时代</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#前端发展" class="sidebar-link">前端发展</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#后端发展" class="sidebar-link">后端发展</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#四、百家争鸣-技术大爆炸时代" class="sidebar-link">四、百家争鸣 - 技术大爆炸时代</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#前端爆炸" class="sidebar-link">前端爆炸</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#后端爆炸" class="sidebar-link">后端爆炸</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#筛简历引发的思考和分析" class="sidebar-link">筛简历引发的思考和分析</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#" class="sidebar-link">/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#-2" class="sidebar-link">/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#-2</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#-3" class="sidebar-link">/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#-3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#后端职位的怪圈" class="sidebar-link">后端职位的怪圈</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#思考原因" class="sidebar-link">思考原因：</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#分析" class="sidebar-link">分析</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#什么是前后分离" class="sidebar-link">什么是前后分离</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#前后分离解决了什么问题" class="sidebar-link">前后分离解决了什么问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#每个人各尽其职" class="sidebar-link">每个人各尽其职</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#解耦" class="sidebar-link">解耦</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#什么项目不适合前后分离" class="sidebar-link">什么项目不适合前后分离</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#blog、文档" class="sidebar-link">blog、文档</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#前后分离带来的问题-如何解决" class="sidebar-link">前后分离带来的问题，如何解决？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#沟通成本问题" class="sidebar-link">沟通成本问题</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#seo-问题" class="sidebar-link">SEO 问题</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#跨域" class="sidebar-link">跨域</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#技术栈的选择" class="sidebar-link">技术栈的选择</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#一、提出自身业务的需求" class="sidebar-link">一、提出自身业务的需求</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#二、自身是否成熟-文档是否友好" class="sidebar-link">二、自身是否成熟，文档是否友好</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#三、了解其生态系统" class="sidebar-link">三、了解其生态系统</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#四、画出我们期望的前端基础架构模型" class="sidebar-link">四、画出我们期望的前端基础架构模型</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#了解-webpack" class="sidebar-link">了解 Webpack</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#了解-es6" class="sidebar-link">了解 ES6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#官方说法" class="sidebar-link">官方说法</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#科普" class="sidebar-link">科普</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#了解-babel-traceur" class="sidebar-link">了解 Babel Traceur</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#了解-sass-less-stylus" class="sidebar-link">了解 Sass](https://www.sass.hk/) [Less](http://lesscss.cn/) [Stylus</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#了解-electron" class="sidebar-link">了解 Electron</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#初步搭建脚手架" class="sidebar-link">初步搭建脚手架</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#什么是-cli" class="sidebar-link">什么是 CLI</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#vue-cli" class="sidebar-link">vue-cli</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#vue-cli2-和-vue-cli3-的对比" class="sidebar-link">vue-cli2 和 vue-cli3 的对比</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#简单看看了看-vue-cli3-的新特性" class="sidebar-link">简单看看了看 vue-cli3 的新特性：</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#vue-cli-的安装" class="sidebar-link">vue-cli 的安装</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#tips" class="sidebar-link">TIPS</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#拉取-2-x-模板-旧版本" class="sidebar-link">拉取 2.x 模板 (旧版本)</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#vue-init-的运行效果将会跟-vue-cli-2-x-相同" class="sidebar-link">vue init 的运行效果将会跟 vue-cli@2.x 相同</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#使用-vue-cli-2-生成项目" class="sidebar-link">使用 vue-cli-2 生成项目</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#初窥目录结构" class="sidebar-link">初窥目录结构</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#杞人忧天-为-electron-做好准备" class="sidebar-link">杞人忧天 ： 为 electron 做好准备</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#兼容electron的源码目录" class="sidebar-link">兼容Electron的源码目录</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#容器级的目录" class="sidebar-link">容器级的目录</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#路由目录的调整规范" class="sidebar-link">路由目录的调整规范</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#测试一下" class="sidebar-link">测试一下</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#谈谈-eslint" class="sidebar-link">谈谈 eslint</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#本章代码在这里" class="sidebar-link">本章代码在这里</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#axios" class="sidebar-link">axios</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#tips-2" class="sidebar-link">Tips</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#引入-axios" class="sidebar-link">引入 Axios</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#封装axios" class="sidebar-link">封装axios</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#proxy" class="sidebar-link">proxy</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#webpack" class="sidebar-link">webPack</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#生产和开发的跨域问题" class="sidebar-link">生产和开发的跨域问题</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#cnode-掘金-社区-api-举例" class="sidebar-link">cnode 掘金 社区 API 举例</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#发布" class="sidebar-link">发布</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#生产中的跨域" class="sidebar-link">生产中的跨域</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#api-的规范化" class="sidebar-link">API 的规范化</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#layout" class="sidebar-link">Layout</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#components" class="sidebar-link">Components</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#开始写代码" class="sidebar-link">开始写代码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#什么样式可以写在-vue-文件中" class="sidebar-link">什么样式可以写在 .vue 文件中</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#根据喜好选择如何布局" class="sidebar-link">根据喜好选择如何布局</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#按需引入" class="sidebar-link">按需引入</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#全局引入" class="sidebar-link">全局引入</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#继续布局" class="sidebar-link">继续布局</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#本节橄榄" class="sidebar-link">本节橄榄</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#上线" class="sidebar-link">上线</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#准备" class="sidebar-link">准备</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#大白话介绍下-docker" class="sidebar-link">大白话介绍下 docker</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#使用-docker" class="sidebar-link">使用 docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#看下-images-状态" class="sidebar-link">看下 images 状态</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#dockerhub-拉-nginx-镜像" class="sidebar-link">dockerHub 拉 Nginx 镜像</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#打包" class="sidebar-link">打包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#启动-docker-容器" class="sidebar-link">启动 docker 容器</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#测试一下-2" class="sidebar-link">测试一下</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#gzip" class="sidebar-link">gZip</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#gzip-攻破-webpack、nginx" class="sidebar-link">gZip 攻破 webpack、nginx</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#进入-docker-主机" class="sidebar-link">进入 docker 主机</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#进入-nginx-主机的第一件事" class="sidebar-link">进入 nginx 主机的第一件事</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#nginx-在哪" class="sidebar-link">nginx 在哪？？？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#如何修改-docker-内部的配置" class="sidebar-link">如何修改 docker 内部的配置</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#cdn" class="sidebar-link">CDN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#原理" class="sidebar-link">原理</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#请求速度" class="sidebar-link">请求速度</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#cookie" class="sidebar-link">cookie</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#节省-webpack-打包大小-速度" class="sidebar-link">节省 webpack 打包大小/速度</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#如何分析项目依赖" class="sidebar-link">如何分析项目依赖</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#webpack-bundle-analyzer" class="sidebar-link">webpack-bundle-analyzer</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#webpack-按需加载-一切皆模块" class="sidebar-link">webpack 按需加载 ： 一切皆模块</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#图片处理" class="sidebar-link">图片处理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#base64" class="sidebar-link">base64</a></li><li class="sidebar-sub-header"><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#压缩图片" class="sidebar-link">压缩图片</a></li></ul></li><li><a href="/%E7%B4%A0%E6%9D%90/210113_%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0.html#结语" class="sidebar-link">结语</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="part-1-开源的意义"><a href="#part-1-开源的意义" class="header-anchor">#</a> Part 1 开源的意义</h1> <h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <p>从事了<strong>4</strong>年的互联网行业，逐渐担当过团队的前端到后端的负责人，和大家一样从小白逐渐的成长起来，回首望去几年前的博客还是那么稚嫩。</p> <ul><li>回首这几年：</li></ul> <p>从一个javaer接触前端转向全栈。 从前端到后端到运维，经历了几次前后端架构的演变，踩了无数的坑，也算总结了点经验,这期分享一下前端的一点经验。</p> <p>http://www.gitrue.com:9000/image/VMYdfaVUBk</p> <p>当我看到这条沸点的时候，我的内心多少是有一些波澜的。为了工作或学习，确实造过一些轮子，前端的后端的，也开源出来过觉得能提高生产力的。但确实： &gt;代码放出来!=开源</p> <p>一个优秀的程序员同时也应该是一个好的传道者，去帮助那些真正想学习的’懵懂少年’。</p> <h2 id="麦当劳的模式思考"><a href="#麦当劳的模式思考" class="header-anchor">#</a> 麦当劳的模式思考</h2> <p>每天早上都回去吃麦当劳6元早餐，有时候想想：这不就是我们现在的工作状态吗？</p> <ul><li>薯饼是怎么做的？</li></ul> <p>不知道,公司直接进的货。</p> <ul><li>你是如何掌握火候的？</li></ul> <p>不清楚，公司规定炸6分钟。 - 那为什么是6分钟，而不是5分钟，7分钟吗？</p> <p>应该是为了让它外酥里嫩吧，具体没太研究过……</p> <p>这像极了我们的面试，我们的痛点总是看过、了解过，但并没有深入去实践过、研究过。</p> <blockquote><p>无论多牛的解说5分钟也道不出一部好电影的精髓。</p></blockquote> <h2 id="萌生想法"><a href="#萌生想法" class="header-anchor">#</a> 萌生想法</h2> <p>两个月前业余时间开始慢慢写 BBS ,很多公司的同事表示不解 &gt; 为什么要花时间写这样一个项目,有什么意义呢?</p> <p>而我总是开玩笑说我要干掉<strong>掘金</strong>。其实只是个玩笑话，这是我一直想做的事情：做一个真的能帮到大家的开源项目。平常抽空写项目，还好没放弃，终于可以逐渐写写文章跟大家分享一下。</p> <h2 id="说干就干"><a href="#说干就干" class="header-anchor">#</a> 说干就干</h2> <p><a href="https://github.com/pkwenda/new-bee" target="_blank" rel="noopener noreferrer">Github项目地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 做有 <strong>格调</strong> 的论坛</p> <p>http://www.gitrue.com:9000/image/c7GfXPfbi3</p> <p>粗略统计本系列涉及到的粒度比较大的技术栈:</p> <ul><li>前端：<code>node</code> <code>npm</code> <code>vue2</code> <code>webpack4</code> <code>electron</code></li> <li>后端：<code>spring-boot</code> <code>spring-data-jpa</code> <code>swagger</code> <code>spring-cloud</code> <code>爬虫</code></li> <li>中间件、运维：<code>mysql</code> <code>nginx</code> <code>shell</code> <code>docker</code></li></ul> <blockquote><p>这个系列我全部采用了目前比较主流技术栈</p></blockquote> <h2 id="整体大纲的把握"><a href="#整体大纲的把握" class="header-anchor">#</a> 整体大纲的把握</h2> <p>这个系列文章我尽量照顾前端的同学和后端的同学，不穿插讲述。尽量按照前端-后端-部署-运维来讲，当然中途涉及到<strong>跨域</strong>、<strong>Rest</strong>、<strong>oAuth2.0</strong>这种前后协调的还是无法避免捎带一笔。</p> <p>比如:</p> <p>http://www.gitrue.com:9000/image/GA0cLD13AT</p> <p>这种目录阅读可能对于只掌握 <strong>前端</strong>/<strong>后端</strong> 一种技术栈的同学，或只想去看<strong>后端</strong>/<strong>前端</strong>/<strong>运维</strong> 的同学看上去非常的难受、我会修改大纲避免这个问题,循序渐进的来。</p> <h2 id="你会学到"><a href="#你会学到" class="header-anchor">#</a> 你会学到</h2> <ul><li>深入了解前后分离，了解常见架构</li> <li>前端后端项目的搭建与优化</li> <li>前端后端技术的选型</li> <li>开发过程中提升效率的小技巧</li> <li>不同场景下跨域的N种解决办法</li> <li>几个良好习惯提升 <em>debug</em> 的能力</li> <li>前端的 <em>Hybrid</em> 开发自己的 <em>APP</em></li> <li>前端 <em>SPA</em> 模式的优化</li> <li>学会爬取我们想要的<em>资源</em></li> <li>后端架构如何向微服务转型</li> <li>如何使用 <em>docker</em> 部署微服务</li> <li>如何维护项目的运转</li></ul> <p>如何从零打造一个前后分离的互联网主流 <em>WEB</em> 项目、真心希望我能帮到你们。</p> <h1 id="part-2-纵观web历史演变"><a href="#part-2-纵观web历史演变" class="header-anchor">#</a> Part 2 : 纵观WEB历史演变</h1> <blockquote><p>在校学习和几年工作工作中不知不觉经历了一半的 WEB 历史演变、对近几年的发展比较了解，结合经验聊聊 WEB 发展历史。</p></blockquote> <p><strong>演变不易，但也是必然，因为为人始终要进步。</strong></p> <h2 id="web-的发展史"><a href="#web-的发展史" class="header-anchor">#</a> WEB 的发展史</h2> <h3 id="一、开山鼻祖-石器时代"><a href="#一、开山鼻祖-石器时代" class="header-anchor">#</a> 一、开山鼻祖 - 石器时代</h3> <h3 id="静态网站"><a href="#静态网站" class="header-anchor">#</a> 静态网站</h3> <p>http://www.gitrue.com:9000/image/DokGcl5GXc</p> <p>这是 <em>1997</em> 年 Apple 官网，那时的网站不如叫网页，像一张浮夸的彩色报纸，那时是纯粹的 <em>HTML</em> 时代，不管你是不是访问这个网页，每个页面都是在服务器上存在的。</p> <h3 id="cgi技术"><a href="#cgi技术" class="header-anchor">#</a> CGI技术</h3> <p>随后技术性强一点的网站可能会通过 <em>CGI Perl</em> 运行一小段代码与数据库或文件系统进行交互。比如：</p> <p>http://www.gitrue.com:9000/image/hgDk1lLR8I</p> <p>这是</p> <p><em>1998</em></p> <p>年的 Google ，为了达到搜索条件，不可能用大量的人力去堆砌</p> <p><strong>静态页面</strong></p> <p>,所以使用这种方式“曲线救国”，但是</p> <p><em>CGI</em></p> <p>伸缩性不是太好：每个请求分配一个新的进程，不太安全(直接使用文件系统或者环境变量)，同时也没提供一种结构化的方式去构造动态应用程序。</p> <p>静态网站是最受搜索引擎欢迎的网站，因为它相对固定，所以网站 <em>SEO</em> 非常好做，我猜测这也是为什么现在的文档网站大部分都是静态网页的原因之一吧。</p> <blockquote><p>很可惜我没能亲眼看一看这样的时代</p></blockquote> <h3 id="二、前人种树-文明时代"><a href="#二、前人种树-文明时代" class="header-anchor">#</a> 二、前人种树 - 文明时代</h3> <h3 id="asp-和-jsp"><a href="#asp-和-jsp" class="header-anchor">#</a> asp 和 jsp</h3> <p><em>2005</em> 年左右，先后出现了 微软的 <em>ASP</em> 和 <em>Java Server Pages [JSP]</em> 等技术,取代了 <em>CGI</em> ，增强了 <em>WEB</em> 与服务端的交互的安全性、用起来也更加简单，但随着各个公司WEB业务的复杂性，缺点也逐渐暴露出来：</p> <p><strong>1、技术单一，难以维护</strong></p> <p>http://www.gitrue.com:9000/image/7LvZ2jx4Br</p> <p>JSP页面由HTML代码和嵌入其中的Java代码所组成,用一个比较常见的 <em>JSP</em> 代码段举例：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span><span class="token operator">%</span>@ page language<span class="token operator">=</span><span class="token string">&quot;java&quot;</span> contentType<span class="token operator">=</span><span class="token string">&quot;text/html; charset=UTF-8&quot;</span>
    pageEncoding<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>
String path <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String basePath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;://&quot;</span><span class="token operator">+</span>request<span class="token punctuation">.</span><span class="token function">getServerName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span>request<span class="token punctuation">.</span><span class="token function">getServerPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span>path<span class="token operator">+</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span>@ page <span class="token keyword">import</span><span class="token operator">=</span><span class="token string">&quot;com.zifangsky.OnlineFriend.model.article.ShowByPage&quot;</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">jsp:</span>useBean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showAllTitle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.zifangsky.OnlineFriend.model.article.ShowByPage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>session<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>JSP = HTML+Java</p></blockquote> <p>上面的代码 HTML 中大量耦合了JAVA代码，通过JSP编译之后可以在客户端充当部分服务端的角色，这让我们难以搞清服务端的角色，以及增加调试的复杂度。业务稍微复杂一点，试想一下：HTML中掺杂了太多java代码，不论是开发还是维护都是一件痛苦的事情。</p> <p><strong>2、不不够灵活</strong> JSP与Java Servlet一样，是在服务器端执行的，通常返回该客户端的就是一个HTML文本。我们每次的请求：获取的数据、内容的加载，都是服务器为我们返回染完成之后的 DOM，这也就使得我们开发网站的灵活度大打折扣，在这种情况下，同年：Ajax火了。</p> <h3 id="ajax-的出现"><a href="#ajax-的出现" class="header-anchor">#</a> AJAX 的出现</h3> <p>为什么说 <em>2005</em> 年 *<strong>Ajax*</strong> 火了？因为 <em>Ajax</em> 技术并不是 <em>2005</em> 年出现的，他的雏形是 <em>1999</em> 年。</p> <p>1999年，微软公司发布IE5，第一次引入新功能：允许javascript脚本向服务器发起HTTP请求[这也就是今天万恶的 *<strong>ActiveX*</strong> 原型]。这个功能当时并没有引起注意，直到2004年Gmail发布和2005年Google Map发布，才引起广泛重视</p> <p><strong>Google做了什么事儿？</strong> 在 2005 年，Google 通过其 Google Suggest 使 AJAX 变得流行起来，他大概是这样的事情：</p> <p>http://www.gitrue.com:9000/image/uYxdJHLGI5</p> <p>现在看来很常见的技术手段，当时迅速燃爆了技术圈，以此来实现：<strong>异步交互</strong> 这样既能增加用户的体验，又能替代掉页面部分的服务端代码，从此， <em>AJAX</em> 成为脚本发起 <em>HTTP</em> 通信的代名词，次年 <em>W3C</em> 也在 <em>2006</em> 年发布了 <em>AJAX</em> 的国际标准</p> <p><strong>总结：</strong></p> <p>http://www.gitrue.com:9000/image/5ZqyDfHaZZ</p> <p>随后各种 <em>JSP ASP</em> 的改良模板引擎、全新的交互方式也如雨后春笋一般涌现。并且以 <em>JAVA</em> 作为服务端也出现了如 Struts 、 Spring、Hibernate 的老一代框架、采用后端 <em>MVC</em> 的方式让构建 <em>WEB</em> 应用再一次更加健全, <em>WEB</em> 服务正在逐渐由石器时代走向文明时代。</p> <h3 id="三、化繁为简-工业革命时代"><a href="#三、化繁为简-工业革命时代" class="header-anchor">#</a> 三、化繁为简 - 工业革命时代</h3> <p>时光啊不断地飞逝，前端后端也出现了几个潮流。</p> <h3 id="前端发展"><a href="#前端发展" class="header-anchor">#</a> 前端发展</h3> <p><strong>移动端</strong></p> <p>手机已经发展出了一些苗头，网页也区分了web和移动应用两种模式，但移动端限制于当时手机行业的技术，发展较慢。</p> <p><strong>Jquery的出现</strong></p> <p>出现了非常流行的JavaScript库：jquery，能够快速构建动态、美妙的web应用，完美的封装了Ajax，让开发者开发网页变得优雅。</p> <p><strong>SPA的雏形</strong></p> <p>http://www.gitrue.com:9000/image/bNVlylj3GY</p> <p>随着文明时代 Ajax 正式提出，加上 CDN 开始大量用于静态资源存储，于是出现了 <em>SPA （Single Page Application 单页面应用）</em>，<em>Backbone EmberJS AngularJS</em> 这样一批前端框架随之出现，但以当时的配套技术来说，<em>SPA</em> 道路并不好走：例如 <em>SEO</em> 问题、<em>SPA</em> 过多的页面、复杂场景下 <em>VIEW</em> 的绑定等，都没有很好的处理。</p> <h3 id="后端发展"><a href="#后端发展" class="header-anchor">#</a> 后端发展</h3> <p>Struts 、 Spring、Hibernate 经过几年的发展、SSM这个今天被我们说烂了的词、当时几乎成了当时 JAVA 服务端的 首要选型，我想这也是为什么很多公司、或外包公司依然维护这样一套架构的主要原因。</p> <p><strong>总结</strong> 这几年的飞速发展，为我们节约了大量的经历、降低了开发者和开发过程的门槛，极大提升了开发效率和迭代速度，我称之为<strong>工业时代</strong></p> <p><strong>经历</strong></p> <p>说出来你可能不信：大三快结束时实习求得的第一份工作，一个人断断续续开发7、8个月，就是钻研这些自技术栈，独立开发出一款web应用 <a href="http://www.weibaochuangye.com/" target="_blank" rel="noopener noreferrer">微宝创业<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,惭愧的说： &gt; 项目架构从文明时代 -&gt; 走到最后的工业时代！不断的重构，不断的上线 ，拼命的学习，我很感谢当时老板对我的信任和同事对我的帮助。</p> <h3 id="四、百家争鸣-技术大爆炸时代"><a href="#四、百家争鸣-技术大爆炸时代" class="header-anchor">#</a> 四、百家争鸣 - 技术大爆炸时代</h3> <p>时光啊他一刻不停，直到今天 – 技术只能用爆炸来形容。</p> <h3 id="前端爆炸"><a href="#前端爆炸" class="header-anchor">#</a> 前端爆炸</h3> <p>http://www.gitrue.com:9000/image/2EtbPZzv2m</p> <p>工业时代提出的 <em>SPA</em> 模型随着 <em>NODE</em> 的兴起、服务端、各种工具、容器的飞速发展、前端 <em>MVC MVVM</em> 模式逐渐清晰、前端涌现了相当一批优秀的开源项目： 包管理： *<strong>npm yarn*</strong> 打包：*<strong>grunt gulp*</strong> 模块加载：*<strong>RequireJS SeaJs*</strong> 框架：*<strong>VUE Angular React*</strong> hybrid ：*<strong>ionic weex react-native electron*</strong> 预处理器：*<strong>less sass*</strong> 数据可视化：*<strong>echarts hcharts*</strong> 以及提升用户体验的动画，让我们更有“<strong>面子</strong>”</p> <p>甚至前端也可以使用 <strong>Node</strong> 来构建自己简单的服务端、正在逐渐摆脱“<strong>客户端开发者</strong>”的角色</p> <h3 id="后端爆炸"><a href="#后端爆炸" class="header-anchor">#</a> 后端爆炸</h3> <p>http://www.gitrue.com:9000/image/uPnNgkiTLk</p> <p><strong>go</strong></p> <p>更适合面向服务器编程，以前你如果使用C或者C++做的那些事情，用Go来做很合适，例如、虚拟机处理、文件系统等，强如 docker Kubernetes（k8s）都是 GO 写的</p> <p><strong>python</strong></p> <p>像一门生物语言，目前看来更容易处理算法、人工智能、网络爬虫、运维方向</p> <p><strong>java</strong></p> <p>一款20多年的语言，不断的变强。涌现了很多高质量的库，几个有代表性的：</p> <p><em>netty rebbitmq</em>：轻松实现消息队列 <em>elasticSearch</em>： 轻松实现搜索引擎 <em>spring-boot</em>： 面向配置，更加轻松的构建web服务端 <em>spring-cloud、dubbo</em>： 轻松构建微服务</p> <p>以及即将迎来的 <strong><a href="https://zhuanlan.zhihu.com/p/38348775" target="_blank" rel="noopener noreferrer">强悍的JAVA11<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <blockquote><p>还有 持续集成 云服务 devops 等运维相关</p></blockquote> <p><strong>总结</strong></p> <p><em>go</em> 和 <em>python</em> 的出现让我们服务端开发者能做更多的事情，比如自动化运维、写中间件。逐渐偏向全栈方向发展。而 JAVA 20多年来的生态圈子发展，能帮助我们写出更健壮的服务。以及狠狠向我们砸来的：人工智能、devops、云服务等技术，令我们眼花缭乱，<strong>开源</strong>成为了一种潮流，技术分享成了每个人都想做的事情，我称之为：<strong>技术爆炸的时代</strong></p> <p><strong>经历</strong></p> <p>我近两年很烦恼：如何才能让前后端更加优雅的通信？</p> <p>曾经使用多种后端模板引擎直到完全摒弃，后到 node 做代理、渲染 + grunt 进行数处理，之后逐渐使用 &gt; vue + webpack ——&gt; Rest API</p> <p>这样如果不得不用 NODE 也只会成为 Rest 中的一员而不用经过 NODE 做繁琐的通信了。这种前后分离的方式达到了满意的效果，前端不必再管后端的事情，后端？写好自己的服务就好了。</p> <h1 id="part-3-聊聊前后分离架构"><a href="#part-3-聊聊前后分离架构" class="header-anchor">#</a> Part 3 聊聊前后分离架构</h1> <p>前后分离，一直是一个相当泛泛的问题，前后分离到底好不好？没有绝对的对，没有绝对的错，业界就这个问题已经激烈的探讨几年了.出现讨论的点在于：分离当然是好的,但是以什么样的服务需要进行前后拆分？拆分到什么粒度？前后端如何配合？</p> <p>http://www.gitrue.com:9000/image/HMGlXxJJIO</p> <blockquote><p>截图时间: 2018-08-30 - Github</p></blockquote> <p>我们随意在 <em>Github</em> 输入<strong>前后分离</strong>关键字，看下搜索的结果: <em>1K</em> 的库 <em>11k</em> 的 <em>Issues</em> 足以说明前后分离的趋势，可以想象激烈程度，业界比较有名的讨论：<a href="https://www.zhihu.com/question/28207685" target="_blank" rel="noopener noreferrer">Web 前后端分离的意义大吗？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，值得一提的是：前排对于这个问题讨论比较深刻的大部分都是<strong>全栈工程师</strong>。因为全栈对全局的了解相对比单纯做前端、后端全局观念更强一些，考虑的问题更多一些。</p> <h2 id="筛简历引发的思考和分析"><a href="#筛简历引发的思考和分析" class="header-anchor">#</a> 筛简历引发的思考和分析</h2> <h2 id=""><a href="#" class="header-anchor">#</a></h2> <p>http://www.gitrue.com:9000/image/vSQR2NOePr</p> <h2 id="-2"><a href="#-2" class="header-anchor">#</a></h2> <p>http://www.gitrue.com:9000/image/qmIFPTGY2G</p> <h2 id="-3"><a href="#-3" class="header-anchor">#</a></h2> <p>http://www.gitrue.com:9000/image/Uudz7xRt7C</p> <h3 id="后端职位的怪圈"><a href="#后端职位的怪圈" class="header-anchor">#</a> 后端职位的怪圈</h3> <p>在公司的简历库随手截几个局部的图，近两年面试过很多的 <em>1-3</em> 年 <em>java</em> 开发者，在筛选简历和面试过程中，也发现了几个问题：<strong>相当多一部分</strong> <em>javaer</em> 技术栈上总是多了那么个 <em>HTML</em> <em>ajax</em> <em>jquery</em> <em>bootstrap</em> <em>easyUi</em> ，看起来很唐突，如果面试提到了前端技术栈，基本没有能答的很好的，甚至有的人连 <strong>原型链</strong> 都不知道。<strong>这也是大部分人对全栈的误解</strong>，其实我是不太感冒这样的简历的，因为没有什么亮点，技术栈不是写的越多越好，总结起来：他们对前端的掌握很基础，勉强能胜任一些业务上的工作。那为什么这么多人都掌握一些前端技术呢？我分析可能有三点：</p> <h3 id="思考原因"><a href="#思考原因" class="header-anchor">#</a> 思考原因：</h3> <ul><li>培训机构的兴起，机械化的教学</li> <li>求职者自身的兴趣</li> <li>一些公司的技术栈不全，对技术没有追求，大部分用的几年前的架构，前后业务耦合很大，市场缺口大</li></ul> <h3 id="分析"><a href="#分析" class="header-anchor">#</a> 分析</h3> <p>因为我也维护过几个月的敏感项目，深有体会，只写服务端的人是无法胜任这项工作的， 如果多数的 开发者 这样的简历，可以推测：现在的 <strong>IT</strong> 行业中前后端糅杂一起的架构还是存在、并且有一个量级，这导致他们<strong>不得不</strong>寻找一些懂得一点前端技术的人来开发项目，减少沟通的成本，加快项目的进度，这也就催生了很多所谓的 <em>web</em> 开发培训机构。 &gt; 你问我当年维护的开心吗？一会告诉你。</p> <h2 id="什么是前后分离"><a href="#什么是前后分离" class="header-anchor">#</a> 什么是前后分离</h2> <p>前后端分离并不是什么新鲜事，到处都是前后端分离的实践。然而一些历史项目在从一体化 Web 设计转向前后端分离的架构时，不可避免的会遇到各种各样的问题。由于层出不穷的问题，甚至会有团队质疑，一体化好好的，为什么要搞前后端分离？说到底，还是技术和思维方式没转变过来。</p> <p>一体化模式其实在上一开篇：<a href="https://github.com/pkwenda/blog/issues/10" target="_blank" rel="noopener noreferrer">纵观历史演变<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中已经提到过了，不在赘述。</p> <p>前后分离看起来应该是这样的：</p> <p>http://www.gitrue.com:9000/image/1E5EdYLBJH</p> <p>前后分离就是在<strong>架构层次</strong>上 构建项目或对现有的项目 <strong>客户端</strong> <strong>服务端</strong> 分离开，减少前后端代码的耦合度，大家一致认同的前后端分离的例子就是***SPA(Single-page application)*** ，所有用到的展现数据都是后端通过 <strong>JSON</strong> 但不仅限于 *<strong>JSON*</strong> 的方式提供的，前端只管展现,提供更好更绚的交互，后端只管提供更健壮的高可用服务。</p> <p>千万不要有先写项目，写完再重构的想法，项目初期能一步到位最好，何必再去重构，然后不得已抛弃一些已经写完的组件、库浪费人力呢？</p> <h2 id="前后分离解决了什么问题"><a href="#前后分离解决了什么问题" class="header-anchor">#</a> 前后分离解决了什么问题</h2> <h3 id="每个人各尽其职"><a href="#每个人各尽其职" class="header-anchor">#</a> 每个人各尽其职</h3> <p>好的开发者是可与不可求的，若寻找一个 <strong>优秀的</strong> <em>full_stack</em> 更是难，从校招进行培养也不太实际，招一个能力一般的程序员，技术驱动性比较差，甚至拖慢产品迭代。分离开来我们就可以专注于 <strong>前端</strong>、 <strong>服务端</strong> 领域去寻找专业的人才。</p> <h3 id="解耦"><a href="#解耦" class="header-anchor">#</a> 解耦</h3> <p>前端后端代码大量耦合代码看起来是这样的：</p> <p>http://www.gitrue.com:9000/image/Nk3N9JrHVg</p> <p>看看简单例子吧：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//(node端处理)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_weixin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
<span class="token string">'api'</span><span class="token punctuation">,</span>
<span class="token string">'image'</span><span class="token punctuation">,</span>
<span class="token string">'xxx'</span><span class="token punctuation">,</span>
<span class="token string">'...'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> doSomeGloble <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token comment">//接收node端一些数据</span>
<span class="token keyword">let</span> blogs <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> blogs <span class="token operator">%</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> users <span class="token operator">%</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>这还不是 *<strong>JAVA*</strong> 模板 而是相对轻量、优雅的 <em>NODE</em> 的 <em>EJS</em> 渲染的，这还好，我见过更令人难受的代码，经常为了一个问题要回头看 N 多代码，这里就不写了。</p> <p>那么前后分离如何让它们解耦变得更清晰？后面会结合服务端统一补充。</p> <h2 id="什么项目不适合前后分离"><a href="#什么项目不适合前后分离" class="header-anchor">#</a> 什么项目不适合前后分离</h2> <h3 id="blog、文档"><a href="#blog、文档" class="header-anchor">#</a> blog、文档</h3> <p>你说你搭建一个<em>博客、 API 文档系统</em> 这种小项目，一个人就可以开发。搞了一个前后分离，需要分离部署。又增加了 <strong>SEO</strong> 的复杂度，增加了开发的周期、增加了用户部署的难度，何必呢？当然，如果只是技术实践的一种学习方式，还是欢迎的。</p> <h2 id="前后分离带来的问题-如何解决"><a href="#前后分离带来的问题-如何解决" class="header-anchor">#</a> 前后分离带来的问题，如何解决？</h2> <h3 id="沟通成本问题"><a href="#沟通成本问题" class="header-anchor">#</a> 沟通成本问题</h3> <blockquote><p>前端妹子：哥，获取全部博客调哪个接口？</p></blockquote> <blockquote><p>哦，昨天不是发你文件了吗</p></blockquote> <blockquote><p>前端妹子：我找不到了😭</p></blockquote> <blockquote><p>哦，等下吃晚饭发你啊</p></blockquote> <blockquote><p>前端妹子：哥，你根据 TAG 获取博客的接口写完了没？接口是啥？我好渲染数据啊</p></blockquote> <blockquote><p>没等等……</p></blockquote> <hr> <p>这显然是不规范的，我们期望的是前端后端先约定一个接口协议，后端没完成时，前端自己 <em>mock</em> 测试数据，前端找不到接口的时候，直接查看 <em>API</em> ，根据这个接口协议我们前后端统一编程，那么我们如何处理呢？</p> <p><strong>如何降低沟通成本？</strong> 后端数据服务化，走统一的 <strong>REST</strong> 接口规范输出，降低前后端接口定义的沟通成本。避免“口头说明”的方式。</p> <p><strong>什么是 RESTful API ？</strong> 所以RESTful API就是REST风格的API。 那么在什么场景下使用RESTful API呢？在当今的互联网应用的前端展示媒介很丰富。有手机、有平板电脑还有PC以及其他的展示媒介。那么这些前端接收到的用户请求统一由一个后台来处理并返回给不同的前端肯定是最科学和最经济的方式，RESTful API就是一套协议来规范多种形式的前端和同一个后台的交互方式。</p> <p>http://www.gitrue.com:9000/image/IwZGhdI8Jl</p> <blockquote><p>我通常用 swagger + mock 平台生成标准的 RESTful API，同时也支持扩展多个编程语言例如：Go Python</p></blockquote> <h3 id="seo-问题"><a href="#seo-问题" class="header-anchor">#</a> <em>SEO</em> 问题</h3> <p>以 <em>vue</em> + <em>webpack</em> 的 <em>SPA</em> 为例，没有了后端模板返回的 <em>HTML</em>，前端渲染并不被搜索引擎的爬虫接纳。在日后实战 <em>SEO</em> 之前先通俗渲染呗爬虫识别的区别：</p> <blockquote><p>seo 本质是一个服务器向另一个服务器发起请求，解析请求内容。但一般来说搜索引擎是不回去执行请求到的 js 的。也就是说，如果一个单页应用，html 在服务器端还没有渲染部分数据数据，在浏览器才渲染出数据，而搜索引擎请求到的 html 是没有渲染数据的。 这样就很不利于内容被搜索引擎搜索到。 所以服务端渲染就是尽量在服务器发送到浏览器前 页面上就是有数据的。</p></blockquote> <p>以博客为例简单聊聊:</p> <ul><li>静态服务</li></ul> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我是正文1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我是正文2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>我是正文3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>爬虫直接抓到 <em>html</em> 解析 - 生成索引</p> <ul><li>传统后端渲染</li></ul> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/index&quot;</span><span class="token punctuation">)</span> 
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span>   response<span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token string">&quot;welcome&quot;</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这里就比较有意思了，比如我们打开的网址是:</p> <p><code>http://host:port/index</code> 实际充当 Controller 的是 服务端，服务端直接返回渲染好的网页给你，爬虫拿到的也是一样，所以 <em>SEO</em> 没啥太大的问题。</p> <ul><li>前后分离 <em>SPA</em></li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">let</span> blogs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>'<span class="token operator">/</span>index<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                 blogs <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>    
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                
             <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>前端模板渲染dom<span class="token operator">--</span><span class="token operator">&gt;</span>   
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item, index) in blogs<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>同样我们输入 <code>http://host:port/index</code> &gt; 注意：SPA 通常有自己的路由策略，这也就是前端 <em>MVC</em> <em>MVVM</em> 中的 第一个 <strong>M</strong></p> <p>http://www.gitrue.com:9000/image/LNpy9Htu0T</p> <blockquote><p>一个典型的 SPA 站点</p></blockquote> <p>我们输入网址先到了这个页面，然后再去异步请求服务器，再由前端页面渲染，又是<strong>单页面服务</strong>如果我们不做任何处理，那么你将被各大搜索引擎抛弃。</p> <p><strong>如何解决？</strong></p> <blockquote><p>只要做 SEO 的产品就要做服务端渲染,如果你对 SEO 需求有，但要求并不高，仅部分页面、可以曲线救国</p></blockquote> <p><em>nodejs</em> 出现之前有两种解决方式，一是做一动一静两套页面，服务器判断请求来自蜘蛛就呈现静态页，否则呈现动态页；二是服务器架设虚拟浏览器软件，请求过来了先让虚拟浏览器跑一遍，再将得到的静态页面返回给客户端。这两种方式在大型项目上都有性能问题。</p> <p>有了 <em>nodejs</em> 后主流做法是前后端同构方案，即一套代码在浏览器端和 <em>node</em> 端都可以运行，从而可以先在 <em>node</em> 端请求数据渲染模板，然后将渲染结果返回给浏览器最终呈现。感兴趣可以看看 *<a href="https://ssr.vuejs.org/zh" target="_blank" rel="noopener noreferrer">Vue* 的SSR方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> *<a href="https://www.angular.cn/guide/universal" target="_blank" rel="noopener noreferrer">Angular* 的SSR方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>如何更细致的研究 <strong>SEO</strong> 以后再说</p> <h3 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h3> <p>由于采用前后端分离部署，自然不在一个端口，不在一个端口必然跨域，不过这对现在的技术手段来说完全不是问题</p> <p>*<strong>开发模式*</strong> 为了更快更好的开发，<em>dev</em> 下一般采用 <em>node</em> 做代理层，解决跨域，几乎无障碍开发，而且可以轻松切换环境。</p> <p>*<strong>部署模式*</strong> 部署一般不依托 <em>node</em> 进行部署，通常我们发布到 <em>HTTP</em> 服务器，与服务端进行通信，通常使用 <em>nginx</em> 进行正向代理。</p> <h1 id="part4-前端了解多少"><a href="#part4-前端了解多少" class="header-anchor">#</a> Part4 前端了解多少？</h1> <p>http://www.gitrue.com:9000/image/ZHReAU7RHu</p> <h2 id="技术栈的选择"><a href="#技术栈的选择" class="header-anchor">#</a> 技术栈的选择</h2> <p>首先我们构建前端架构需要对前端生态圈有一切了解，并且最好带有一定的技术<strong>前瞻性</strong>，好的技术架构可能日后会方便的扩展，减少重构的次数，即使重构也不需要大动干戈，我通常选型技术栈会参考以下三点：</p> <h3 id="一、提出自身业务的需求"><a href="#一、提出自身业务的需求" class="header-anchor">#</a> 一、提出自身业务的需求</h3> <ul><li>SEO 是否非常重要？</li> <li>主要面向：移动端还是 pc 端？</li> <li>是否有开发 app 的规划？</li></ul> <p>有了这样的问题我们可以带着问题去重点选型一些这写问题技术方案比较成熟的技术栈。</p> <h3 id="二、自身是否成熟-文档是否友好"><a href="#二、自身是否成熟-文档是否友好" class="header-anchor">#</a> 二、自身是否成熟，文档是否友好</h3> <blockquote><p>这里举一个以前开发过程中实际遇到的，当时为了优化用户体验，节省开发效率 选型了一款 MVVM 轻量框架，可惜当时没有决定权，CTO 选型了 avalon</p></blockquote> <p>当时之所以没有选择 backbone ，主要是因为没有成熟的中文文档，考虑到团队的流动性和上手性暂时没做考虑，最终选择了 司徒正美的 avalon 当时来说还是比较前卫的，也有一些以去哪网为首的大公司都在用。我们当时用的时候 avalon2 刚出不久，直接用的 2.0，使用过程也出现了一点问题：文档离散，这一块那一块，存在后置性，生态少，扩展性价比不高 ，有时候遇到匪夷所思的 bug 寻找原因翻了几遍 demo 、文档 可能会找到答案，没有重点标识。当然就当时来说确实是给我们提升了部分开发效率，但是我可能当时更偏向 Angular 或 vue 的。因为他们有无以伦比的生态圈和各种问题的技术方案以以及完善的开发者文档，值得一提的是 avalon 的作者是兼职维护的，如果全栈运营的话，我相信远比现在更好，看一看 avalon 的源码也会对自己有不少的提升。对于生产的技术选型要更加谨慎。</p> <h3 id="三、了解其生态系统"><a href="#三、了解其生态系统" class="header-anchor">#</a> 三、了解其生态系统</h3> <p>上文提到了生态系统，以我比较常用的 vue 来举例，vue 发展至今仅官方为我们提供了以 <strong>vuex、 vue-router、 vue-loader、 vue-cli、 vuepress、 vue-devtools、 vue-ssr</strong> 为首的 <em>89</em> 个开源项目，包括无数的 <em>vue</em> 相关的 <em>UI</em> 库，<em>vue</em> 插件 甚至是近两年淘宝提供的 <em>Hybrid</em> ： <strong>weex</strong> 的支持</p> <p>截止今天 <em>github</em> 开源的 与 <em>vue</em> 相关的项目多达 <em>167,752</em> 个，与 <em>angular</em> 相关的多达 <em>416,811</em> 个，与 <em>react</em> 相关的 多达 <em>594,272</em> 个。 &gt; 统计时间 2018-09-01</p> <p>我想有了这样的生态支持，完全可以满足我们中小项目的 <em>95%</em> 以上的需求，至于比较哪个更强是没有意义的 。</p> <p>因为比较熟悉让我斗胆私自选择 vue 作为我们的 <em>SPA</em> 主架构</p> <h3 id="四、画出我们期望的前端基础架构模型"><a href="#四、画出我们期望的前端基础架构模型" class="header-anchor">#</a> 四、画出我们期望的前端基础架构模型</h3> <p><strong>因为我们上一章选型了 Vue，如果只考虑前端我们最初的想法:技术栈大概是这样的：</strong></p> <p>http://www.gitrue.com:9000/image/h5Ya0WhZqZ</p> <blockquote><p>通过 node 和 webpack 的支持 把 vue 组件 build 打包成传统元素，发布到 http 服务中，请求后端服务。</p></blockquote> <p><strong>随后可能是这样的：</strong></p> <p>http://www.gitrue.com:9000/image/epKtL5vuvm</p> <blockquote><p>随着目前主流第三方库的越来越多和技术的尝鲜、客户端的需求、或被动[不得不用]、或主动的去引用了 babel less sass *.loader 和 hybrid 等组件库。</p></blockquote> <p><strong>再后来的技术栈需要我们根据真正踩坑之后才会逐步完善</strong></p> <p>可能是 <em>polyfill</em> <em>懒加载</em> <em>xss</em> <em>protobuf</em> 等 针对 <strong>浏览器兼容</strong>、<strong>速度优化</strong>、 <strong>SEO</strong> 、<strong>通信协议</strong> 等具体问题。所以，前期可以不用过多考虑，我们只要知道：这个问题我们是可以解决的，但是现在可以先不去考虑，有些同学，太过于“<strong>完美主义</strong>”以至于想法不错，但动起手来做了几天就不做了，<strong>完美主义害死人</strong>。</p> <h2 id="了解-webpack"><a href="#了解-webpack" class="header-anchor">#</a> 了解 <a href="https://www.webpackjs.com/" target="_blank" rel="noopener noreferrer">Webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>WebPack 可以看做是模块打包机器，它可以分析你的项目结构，找到 JavaScript 模块以及其它的一些浏览器不能直接运行的拓展语言：Stylus、Scss、less、TypeScript、CoffeeScript 等，并将其转换和打包为合适的格式供浏览器使用。比较常用的还可以通过 webpack-dev-server 进行开发模式的<strong>热更新</strong></p> <p><strong>WebPack 是一种模块化开发的方案</strong></p> <p>当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(<em>dependency graph</em>)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle</p> <p>http://www.gitrue.com:9000/image/TXM4cAN7cu</p> <p><em>webpack</em> 通过 <em>loader</em> 可以支持各种语言和预处理器编写模块，最后打包为一个（或多个）浏览器可识别的 <em>JavaScript css</em>  文件</p> <p>目前支持的 <a href="https://www.webpackjs.com/loaders/" target="_blank" rel="noopener noreferrer">loader 列表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="了解-es6"><a href="#了解-es6" class="header-anchor">#</a> 了解 ES6</h2> <p>http://www.gitrue.com:9000/image/WWjtS9nDDO</p> <h3 id="官方说法"><a href="#官方说法" class="header-anchor">#</a> 官方说法</h3> <p>ECMAScript 6（简称ES6）是于2015年6月正式发布的JavaScript语言的标准，正式名为ECMAScript 2015（ES2015）。它的目标是使得JavaScript语言可以用来编写复杂的大型应用程序.</p> <h3 id="科普"><a href="#科普" class="header-anchor">#</a> 科普</h3> <p>很多人总是搞不清楚 ES 这些东西，这里大白话讲讲： 他们的先后顺序是：ES5、ES6(ES2015)、ES7、ES8</p> <blockquote><p>在 2015 年 6 月 ES6 的第一个版本发布， 正式名称就是 《ECMAScript 2015 标准》（简称 ES2015）算是 2011 年 ECMAScript 5.1 之后的 6.0版本 2016 年 6 月，小幅修订的《ECMAScript 2016 标准》（简称 ES2016）[因为改动小，其实他是 6.1 版本，但总有人愿意叫它 ES7 ，不标准的] 2017 年 6 月发布 的《ECMAScript 2017 标准》（简称 ES2017） [因为改动小，其实他是 6.2 版本，但总有人愿意叫它 ES8 ，不标准的]</p></blockquote> <p>就像 *<strong>Kubernetes*</strong> 人们开他起了一个 *<strong>K8S*</strong> 的名字 (<em>K</em> 和 <em>S</em> 中间有 8 个单词)，他是不标准的</p> <h2 id="了解-babel-traceur"><a href="#了解-babel-traceur" class="header-anchor">#</a> 了解 Babel Traceur</h2> <p>http://www.gitrue.com:9000/image/La8yS97yuJ</p> <p>Babel、Traceur 是一个编译JavaScript的平台，它可以编译代码帮你达到以下目的：</p> <blockquote><p>JavaScript.next-to-JavaScript-of-today compiler</p></blockquote> <p><strong>今天就使用未来的 JavaScript</strong></p> <p>截止发布日期 (2018-09-04) ，<a href="http://kangax.github.io/compat-table/es6/" target="_blank" rel="noopener noreferrer">没有一款完全支持ES6的JavaScript代理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（无论是浏览器环境还是服务器环境），所以热衷于使用语言最新特性的开发者需要将ES6代码转译为ES5代码。</p> <p>让你能使用最新的JavaScript代码（ES6，ES7…），而不用管新标准是否被当前使用的浏览器完全支持；</p> <blockquote><p>ES7 作者完全没精力看 ，不过 Bable 逐渐替代了 Google 的 Traceur 成为主流了，我是个俗人，所以我选 Bable</p></blockquote> <h2 id="了解-sass-less-stylus"><a href="#了解-sass-less-stylus" class="header-anchor">#</a> 了解 <a href="https://www.sass.hk/" target="_blank" rel="noopener noreferrer">Sass<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://lesscss.cn/" target="_blank" rel="noopener noreferrer">Less<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://stylus-lang.com/" target="_blank" rel="noopener noreferrer">Stylus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>http://www.gitrue.com:9000/image/L42Jeqojhd</p> <blockquote><p>Sass 是不是违反了中国的广告法了？？</p></blockquote> <p>Sass 、Stylus 和 Less 之类的预处理器是对原生CSS的拓展，它们允许你使用类似于variables, nesting, mixins, inheritance等不存在于CSS中的特性来写CSS，CSS预处理器可以这些特殊类型的语句转化为浏览器可识别的CSS语句。</p> <ul><li><strong>一张表格对比三语言</strong></li></ul> <p><a href="https://niubility.me/5a96da0728ff449289308b6c3f5ff42a" target="_blank" rel="noopener noreferrer">Copy of Untitled<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>你现在可能都已经熟悉了，上文讲 WebPack 讲过： webpack 里使用相关 loaders 进行配置就可以使用了，以下是常用的CSS 处理loaders:</p> <p>Less Loader Sass Loader Stylus Loader</p> <p>自己去找：<a href="https://www.webpackjs.com/loaders/" target="_blank" rel="noopener noreferrer">loader 列表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>像：哪种语言更好、使用的更多、更简单 容易引起争议的 博主不想讨论，看自己喜好</p></blockquote> <h2 id="了解-electron"><a href="#了解-electron" class="header-anchor">#</a> 了解 <a href="https://electronjs.org/" target="_blank" rel="noopener noreferrer">Electron<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <p>http://www.gitrue.com:9000/image/91rSh78oFI</p> <p>一个可以使用使用： JavaScript, HTML 和 CSS 构建跨平台的桌面应用的框架，也算 <em>hybrid</em> 的一种，主要场景是 PC 端，没啥好说的。</p> <blockquote><p>值得一提的是 Visual Studio Code 、Atom、GIthub Desktop 都是基于此构建的，有时候按 CMD + option + i 有惊喜哦</p></blockquote> <p><a href="https://electronjs.org/apps" target="_blank" rel="noopener noreferrer">基于 Electron 开发的APP列表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="part5-快速构建规范的项目骨架-「vue」"><a href="#part5-快速构建规范的项目骨架-「vue」" class="header-anchor">#</a> Part5 快速构建规范的项目骨架 「VUE」</h1> <h2 id="初步搭建脚手架"><a href="#初步搭建脚手架" class="header-anchor">#</a> 初步搭建脚手架</h2> <ul><li><strong>Tips</strong></li></ul> <blockquote><p>任何不错的开源项目都有 project-cli 脚手架、我们用它生成往往能快速配制出最佳的、理想的脚手架</p></blockquote> <p>我通常使用 <em>cli</em> 生成项目骨架再在之基础上进行个人修改。</p> <h3 id="什么是-cli"><a href="#什么是-cli" class="header-anchor">#</a> 什么是 CLI</h3> <blockquote><p>命令行界面（英语：command-line interface，缩写：CLI）是在图形用户界面得到普及之前使用最为广泛的用户界面，它通常不支持鼠标，用户通过键盘输入指令，计算机接收到指令后，予以执行。也有人称之为字符用户界面</p></blockquote> <p>顾名思义 <em>XXX-CLI</em> 就是使用命令行生成的 <em>XXX</em> 程序。之前写过一款 基于 <em>nodeJs</em> 制作个性 <em>CLI</em> 的教程</p> <p><strong><a href="https://github.com/pkwenda/blog/issues/7" target="_blank" rel="noopener noreferrer">如何用node开发自己的cli工具并发布到NPM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> ， 想详细了解制作流程的可以简单看看。</p> <h3 id="vue-cli"><a href="#vue-cli" class="header-anchor">#</a> <a href="https://cli.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">vue-cli<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>http://www.gitrue.com:9000/image/O6K3FxiGwv</p> <blockquote><p>截止 2018-09-02 vue-cli 最新版本为 3.0</p></blockquote> <p><em>vue</em> 中文生态非常完善，我们直接去官网看看：</p> <p>https://cli.vuejs.org/zh/</p> <h3 id="vue-cli2-和-vue-cli3-的对比"><a href="#vue-cli2-和-vue-cli3-的对比" class="header-anchor">#</a> vue-cli2 和 vue-cli3 的对比</h3> <p>http://www.gitrue.com:9000/image/qUg4EhmtHi</p> <blockquote><p>很遗憾，vue-cli-3 是 2018-08-11 出来的，而我的论坛早在之前就着手搭建了 cli-3 耽误了我一些时间，后面也会提到</p></blockquote> <h3 id="简单看看了看-vue-cli3-的新特性"><a href="#简单看看了看-vue-cli3-的新特性" class="header-anchor">#</a> 简单看看了看 <em>vue-cli3</em> 的新特性：</h3> <ul><li>可以生成 pwa</li> <li>支持 UI 界面勾勾选选就可以了</li> <li>兼容 cnpm 了</li> <li>搞了一套自己的 vue-cli-service 如下：</li></ul> <p>http://www.gitrue.com:9000/image/zRBgzcD2NK</p> <blockquote><p>我这两天不忙的时候就在考虑项目兼容 vli-3 但是后来废了很多时间，效果依然不理想，我回滚了代码宣布放弃了。</p></blockquote> <p>鉴于使用 <em>cli-3</em> 并没有对我的项目有性能上的提升，反而翻遍了我的很多成熟的基础架构，为时间成本考虑，我决定还是使用 cli-2 进行开发，大体目录结构都是一样的。</p> <h3 id="vue-cli-的安装"><a href="#vue-cli-的安装" class="header-anchor">#</a> vue-cli 的安装</h3> <p>安装前应注意前提条件，避免浪费不必要的时间。 &gt; <em>Vue CLI</em> 需要 <em>Node.js 8.9</em> 或更高版本 (推荐 <em>8.11.0+</em>)。(如果你用的和我一样 也是 <em>cli-2</em> 那么不需要如此新的 <em>nodeJs</em> )你可以使用 <em>nvm</em> 或 <em>nvm-windows</em> 在同一台电脑中管理多个 <em>Node</em> 版本。</p> <p>不将远离了，官网比我讲的好得多。</p> <p>可以使用 <em>yarn</em> 或 <em>npm</em> 来安装</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -g @vue/cli
<span class="token comment"># OR</span>
<span class="token function">yarn</span> global <span class="token function">add</span> @vue/cli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我用 NPM 来重新尝试一次 (对 npm 速度表示不理想的 可以尝试淘宝的 <a href="https://npm.taobao.org/" target="_blank" rel="noopener noreferrer">CNPM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 不要过度依赖cnpm)：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>localhost:~ Venda-GM$ sudo cnpm i @vue/cli -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="tips"><a href="#tips" class="header-anchor">#</a> TIPS</h3> <blockquote><p>npm 中 install 可以写成 i , -g 放哪都行 ，–save 可以写成 -S , –save-dev 可以写成 -D</p></blockquote> <p>http://www.gitrue.com:9000/image/CmoDalPGVy</p> <p>看到这个画面，安装完成了。</p> <p>http://www.gitrue.com:9000/image/KGjuW2qQpf</p> <p>测试一下查看一下版本是不是正确，ok 创建项目：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vue create new-bee
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="拉取-2-x-模板-旧版本"><a href="#拉取-2-x-模板-旧版本" class="header-anchor">#</a> 拉取 2.x 模板 (旧版本)</h3> <p><em>Vue CLI 3</em> 和旧版使用了相同的 <em>vue</em> 命令，所以 <em>Vue CLI 2</em> (vue-cli) 被覆盖了。如果你仍然需要使用旧版本的 <em>vue init</em> 功能，你可以全局安装一个桥接工具：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install -g @vue/cli-init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="vue-init-的运行效果将会跟-vue-cli-2-x-相同"><a href="#vue-init-的运行效果将会跟-vue-cli-2-x-相同" class="header-anchor">#</a> <code>vue init</code> 的运行效果将会跟 <code>vue-cli@2.x</code> 相同</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>vue init webpack my-project #这样来生成一个 *cli-2* 项目
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="使用-vue-cli-2-生成项目"><a href="#使用-vue-cli-2-生成项目" class="header-anchor">#</a> 使用 vue-cli-2 生成项目</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>vue init webpack new-bee
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>下面是我创建项目我所选的选项：</p> <p>http://www.gitrue.com:9000/image/nd8ZpEA8O3</p> <p>稍微讲讲下面三个：</p> <ul><li><p>vue build 的方式  &gt; 推荐使用 运行时 + 编译时，通常需要 webpack 编译 .vue 模板。</p> <p>http://www.gitrue.com:9000/image/0zTzftalrV</p></li> <li><p>是否选择预先设定的Eslint  &gt; 并是不每个人都适合的，有的要求过于严格，我自己有一套成熟的，<a href="https://github.com/pkwenda/Blog/tree/master/effective_config" target="_blank" rel="noopener noreferrer">代码在这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> , 就用自己的了，当然可以基于它做一些删减。</p> <p>http://www.gitrue.com:9000/image/0v0yl6tZvU</p></li> <li><p>它要帮我们执行 install  &gt; 如果你有一个好的socket终端代理，可以用这个，否则可以选择 No 自己用 cnpm 执行</p> <p>http://www.gitrue.com:9000/image/6q3Fr3dldZ</p></li></ul> <h3 id="初窥目录结构"><a href="#初窥目录结构" class="header-anchor">#</a> 初窥目录结构</h3> <p>让我们来看看 vue-cli2 自动生成的项目目录，我打上标签，为可能不太理解的同学简单描述一下</p> <p>http://www.gitrue.com:9000/image/JPvEfX6vEx</p> <p>这次我们重构的主要目的是规范、更适合多模块多人协作、而不是为了让它看起来更复杂，本文的项目结构、<em>esLint</em> 改良、等都是经过项目小组反复的推敲决定的，有一定的生产价值。</p> <h3 id="杞人忧天-为-electron-做好准备"><a href="#杞人忧天-为-electron-做好准备" class="header-anchor">#</a> 杞人忧天 ： 为 electron 做好准备</h3> <p><em>cli</em> 生成的项目 <em>src</em> 下面直接就是源码，但是为了考虑以后使用 <em>electron</em> 我们再用 <em>renderer</em> 包裹一下，规范一点。</p> <blockquote><p>可以参考一下 electron-vue</p></blockquote> <h3 id="兼容electron的源码目录"><a href="#兼容electron的源码目录" class="header-anchor">#</a> 兼容Electron的源码目录</h3> <p>http://www.gitrue.com:9000/image/Altv98J4Ux</p> <blockquote><p>tips: 上述截图 github 树形目录的插件是 octotree 也可以在谷歌商店直接搜索安装，看源码省去不少时间。</p></blockquote> <ul><li>先不建立 <em>electron</em> 的 <em>main</em> 文件夹 和 <em>index.ejs</em> 需要添加依赖，目前暂时用不到。</li></ul> <p>别忘了改一下 <em>webpack</em> 相关的路径问题</p> <p>http://www.gitrue.com:9000/image/jOkGCszKi0</p> <p>加上 <em>renderer</em> 的路径</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> app: './renderer/src/main.js'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>@ 的路径也要在 <em>webpack</em> 进行修改，否则会不找组件</p> <p>http://www.gitrue.com:9000/image/fbK6z3NP1w</p> <p>需要改下</p> <p><em>webpack alias</em></p> <p>[别名] 配置</p> <p>http://www.gitrue.com:9000/image/9jTwsiaJ0B</p> <p>改之后的样子</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>alias: {
      '@': resolve('renderer/src'),
    }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="容器级的目录"><a href="#容器级的目录" class="header-anchor">#</a> 容器级的目录</h3> <p>在 组件目录(<em>components</em>) 同级建立 <strong>容器</strong>(<em>container</em>) ：容器里面的各个模块分离开，这样可以使项目<strong>模块</strong>看起来更加清晰。如果十多人协作的项目又能很好地对工作区划分，合理的建立路由，避免不必要的冲突。</p> <blockquote><p>以目前的论坛项目为例</p></blockquote> <p>http://www.gitrue.com:9000/image/eSAq3sGukf</p> <h3 id="路由目录的调整规范"><a href="#路由目录的调整规范" class="header-anchor">#</a> 路由目录的调整规范</h3> <p>在 /<em>router</em> 下为 <em>/container/blog</em> 建立 <em>blog.js</em></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token function-variable function">Blog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span> <span class="token punctuation">(</span> <span class="token comment">/* webpackChunkName: &quot;blog&quot; */</span> <span class="token string">'@/container/blog/index'</span><span class="token punctuation">)</span>

<span class="token comment">/*
 所有container/blog目录下的路径都配置在此路由children下，避免混乱
 */</span>
<span class="token keyword">let</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'/blog'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'blog'</span><span class="token punctuation">,</span>
  component<span class="token operator">:</span> Blog<span class="token punctuation">,</span>
  children<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'blogdemo'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Blog
    <span class="token punctuation">}</span> 
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span>
  routes
<span class="token punctuation">}</span>

<span class="token comment">// 注意 </span>
<span class="token comment">/* webpackChunkName: &quot;blog&quot; */</span> 
<span class="token comment">//是为了后面的路由懒加载，后面会讲，不懂没关系，现在可以忽略</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><ul><li>自动生成的 <em>index.js</em> 主路由是这样的</li></ul> <p>http://www.gitrue.com:9000/image/coaEdMVqML</p> <ul><li>缺点：</li></ul> <p>太单一，我们不可能所有的路由都写在里面作为 <em>children</em> ，看起来非常混乱，开发调试很难处理，多人协作还很容易引起冲突。</p> <p>我们尝试将 <em>blog.js</em> 引过来</p> <p>先将 <em>blog.js</em> <em>export</em> 的路由引过来，起一个别名防止冲突</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> routes <span class="token keyword">as</span> blogRoutes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./blog'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>因为可能有N多个路由模块，我们将 <em>routes</em> 拆分</p> <p>自动生成的是这样简单的：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//直接导出路由</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> HelloWorld
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>我们拆分成这样：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">//定义基础路由</span>
<span class="token keyword">let</span> route <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
    component<span class="token operator">:</span> HelloWorld
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">//以此类推可以方便的链接更多路由</span>
route <span class="token operator">=</span> route<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>blogRoutes<span class="token punctuation">)</span>

<span class="token comment">//导出</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> route<span class="token punctuation">,</span>
  linkActiveClass<span class="token operator">:</span> <span class="token string">'active'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>回过头来，我们为 blog/index.vue 添加一些内容，测试一下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> msg <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
export default {
  name: &quot;Blog&quot;,
  data() {
    return {
      msg: &quot;Welcome to Your Blog Page&quot;
    };
  }
};
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="测试一下"><a href="#测试一下" class="header-anchor">#</a> 测试一下</h3> <p>首先</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>嫌慢可以使用淘宝的 cnpm 我以前的文章讲过</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm run dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>按照提示在浏览器输入：http://localhost:8080/#/blog</p> <p>http://www.gitrue.com:9000/image/E8KvhAktGK</p> <p>http://www.gitrue.com:9000/image/zrcDvwx3EO</p> <p><em>vue-cli2 webpack</em> 生成的项目是支持<strong>热部署</strong>的，所以很多配置不需要自己从零开始配置，这也是我希望大家使用 <em>CLI</em> 的原因，省去了一些时间。其他 login 等一些模块 按照这个模式写就可以了。</p> <h3 id="谈谈-eslint"><a href="#谈谈-eslint" class="header-anchor">#</a> 谈谈 <em>eslint</em></h3> <p>个人觉得 <em>esLint</em> 不论是在个人项目还是团队协作中，都是有价值的，它可以让自己、团队的代码风格标准化。现在esLint 甚至可以预测你的代码是否可能会有问题。建议可以制定一些规则，开发时通过你的 IDE(集成环境) ： idea 、WebStorm、 vscode、 之类的插件配合检测，<em>eslint</em> 打包检测编译不通过的那种非常严格的初期还是不要尝试了。</p> <p>我当时参考 <em>airbnb</em> 调整的配置，经过一年多的项目实战逐渐调整，目前还算比较合理，<a href="https://github.com/pkwenda/Blog/tree/master/effective_config" target="_blank" rel="noopener noreferrer">esLint配置规则代码在这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="本章代码在这里"><a href="#本章代码在这里" class="header-anchor">#</a> <a href="https://github.com/pkwenda/Blog/tree/master/code/web_project_course/start-vue-cli-2/new-bee" target="_blank" rel="noopener noreferrer">本章代码在这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p>你甚至可以再 <a href="https://github.com/pkwenda/Blog/commits/master" target="_blank" rel="noopener noreferrer">commit<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 里看到本章循序渐进的改造过程</p> <p>http://www.gitrue.com:9000/image/WRw02sYfvC</p> <h1 id="part-6-打磨前端架构"><a href="#part-6-打磨前端架构" class="header-anchor">#</a> Part 6 打磨前端架构</h1> <h2 id="axios"><a href="#axios" class="header-anchor">#</a> axios</h2> <p>使用了 vue 的你，发现 Vue 居然不能发请求，于是你 Google 了下，发现可以用 Vue-Resource。 你去问别人 Vue-Resource 怎么样，他说不要用 Vue-Resource，因为 Vue-Resource 官方已经停止维护了，你应该用 Axios、或者 fetch。但是我们想拥抱 ES6 排除掉了 ES5的fetch（当然也有ES6-fetch），这里我们使用 Axios！</p> <h3 id="tips-2"><a href="#tips-2" class="header-anchor">#</a> Tips</h3> <p>这里呢也科普一下：什么时候依赖需要放到 dependencies、什么时候依赖需要放到 devDependencies： &gt;devDependencies：顾名思义，仅在开发（dev）模式下如：webpack.<em>、</em>.loader、eslint、babel、打包后部署时完全用不到的、仅在开发需要 编译、检测、转换 的放在这里。 dependencies：例如：axios、chart、js-cookie、less、lodash、underscore等运行时的库或工具类等相关依赖我们要放在这里</p> <p>不过基本不用担心，官网都会提供 start 说明，但是我们要大概明白意思，不要机械般的 copy。</p> <h3 id="引入-axios"><a href="#引入-axios" class="header-anchor">#</a> 引入 Axios</h3> <ul><li><p>直接玩最新的</p> <p>http://www.gitrue.com:9000/image/yAj2OFgAnp</p></li> <li><p>添加依赖</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;dependencies&quot;: {        &quot;axios&quot;: &quot;^0.18.0&quot; }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/t1Uni8dXN2</p> <blockquote><p>基于上一章内容,别忘了重新 npm i 下载一下</p></blockquote> <p>还记得我们自动生成的 vue 主页面脚本 main.js吗？</p> <h3 id="封装axios"><a href="#封装axios" class="header-anchor">#</a> 封装axios</h3> <p>我们在 <code>src/renderer/utils</code> 建立一个 <code>request.js</code> 在这个请求脚本中，对 Axios 做一些必要的封装，大概内容是用 拦截器 axios.interceptors 对请求和响应做些拦截，定义一下 API 的前缀，处理一些常见的 HTTP 状态码。</p> <ul><li>interceptors 文档</li></ul> <p>http://www.gitrue.com:9000/image/HdxeeDV1WT</p> <p>我尽可能的为大家写了详细的注释。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// src/renderer/utils/request.js</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token comment">//这里一般指后端项目API的前缀，例如 /baidu/*/*/1.api  /mi/*/*/2.api</span>
<span class="token keyword">const</span> <span class="token constant">BASE_API</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">axiosIntercept</span><span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> router</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> axiosIntercept <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        baseURL<span class="token operator">:</span> <span class="token constant">BASE_API</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">//http request 拦截器 一般用来在请求前塞一些全局的配置、或开启一些 css 加载动画</span>
    axiosIntercept<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 判断是否存在token，如果存在的话，则每个http header都加上token</span>
            <span class="token comment">// if (store.getters.accessToken) {</span>
            <span class="token comment">//     console.log(store.getters.accessToken)</span>
            <span class="token comment">//     config.headers.Authorization = `token ${store.getters.accessToken}`;</span>
            <span class="token comment">// }</span>

            <span class="token comment">//todo:加载动画</span>

            <span class="token comment">//若有需求可以处理一下 post 亦或改变post传输格式</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>method <span class="token operator">===</span> <span class="token string">'post'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> config<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//http response 拦截器 一般用来根据一些后端协议特殊返回值做一些处理，例如：权限方面、404... 或关闭一些 css 加载动画</span>
    axiosIntercept<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// todo: 暂停加载动画</span>
        <span class="token keyword">return</span> response<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//捕获异常</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>err<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token number">401</span><span class="token operator">:</span>
                    <span class="token comment">// do something 这里我们写完后端做好约束再完善</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> axiosIntercept<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><p>大家还记得我们用 vue-cli 生成的 vue 主页脚本 main.js 吧，这里我们需要对 Axios 和 Vue 做一个耦合。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// src/renderer/main.js</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> axiosIntercept <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./utils/request'</span>

<span class="token comment">// 将Axios扩展到Vue原型链中</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$http <span class="token operator">=</span> <span class="token function">axiosIntercept</span><span class="token punctuation">(</span>Vue<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样我们在写业务逻辑，直接在 Vue 的上下文中 使用 this.$http 来发送请求。既实现了拦截、又实现了状态的共享。</p> <p><strong>知其然，知其所以然</strong></p> <ul><li>这样做的意义在哪？</li></ul> <blockquote><p>节省代码量，让代码更加易读</p></blockquote> <ul><li>为什么？</li></ul> <blockquote><p>扩展到原型链，使 Axios 运行时共享 Vue 原型链的内容，减少了很多指代 Vue 的临时变量</p></blockquote> <ul><li>举个栗子</li></ul> <p>传统情况</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    user<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">created</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//此时作用域在 Vue 上,缓存起来,要依赖此变量</span>
    <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/user/getUserInfo/&quot;</span> <span class="token operator">+</span> userName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//此时作用域在axios上，拿不到vue绑定的值，只能借助刚才缓存的_this上下文</span>
                _this<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>代理之后</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    user<span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">created</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// axios 成为了 vue 的原型链一部分，共享vue状态。</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>$http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/user/getUserInfo/&quot;</span> <span class="token operator">+</span> userName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//注意，axios回调，应该尽量使用箭头函数，可以继承父类上下文，否则类似闭包，还是无法共享变量、</span>
                <span class="token comment">// 更优雅了一些</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>user <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>user
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>不懂 prototype 可以翻翻我以前写的文章</p></blockquote> <h3 id="proxy"><a href="#proxy" class="header-anchor">#</a> proxy</h3> <p>先简单弄一下，为前后分离打个小铺垫</p> <h3 id="webpack"><a href="#webpack" class="header-anchor">#</a> webPack</h3> <ul><li>webPack 的别名</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/renderer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>为了使用起来更加优雅，可以为每个常用的目录都建立别名</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'vue$'</span><span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span>
      <span class="token string">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/renderer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'assets'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/renderer/assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'components'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/renderer/components'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'container'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/renderer/container'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">'utils'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/renderer/utils'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="生产和开发的跨域问题"><a href="#生产和开发的跨域问题" class="header-anchor">#</a> 生产和开发的跨域问题</h3> <p>http://www.gitrue.com:9000/image/FmnXlXtCnK</p> <p>dev 是开发时启动的指令 build 是预发布时 webPack 打包的指令</p> <p>假设笔者只是一个前端，通常呢，在开发调试过程当中，无法避免需要与后端的同学进行 API 的对接，那也就难免会出现跨域问题。当然传统 javaWeb 不需要跨域，(ip 域 端口 任何一个不同皆为跨域) 在 DEV 模式调试中，我们都是尽量选择前端环境规避跨域问题，而不会去额外搭建 nginx 或更改后端代码。</p> <p>跨域只是针对 JavaScript 的，因为开发者认为浏览器上的脚本是不安全的。</p> <p>既然我们的 vue 项目是 node 全家桶，依靠 node、webPack 编译 我们直接配置 node 的 proxyTable 作为开发的代理器，这样最简单，依次配置，团队受益。</p> <h3 id="cnode-掘金-社区-api-举例"><a href="#cnode-掘金-社区-api-举例" class="header-anchor">#</a> cnode 掘金 社区 API 举例</h3> <p>https://cnodejs.org/api 上边cnode 的 API 是可以随意调用的，因为后端做了处理。</p> <p>看看掘金的： https://xiaoce-timeline-api-ms.juejin.im/v1/getListByLastTime?src=web&amp;pageNum=1 请求一下，不出意外浏览器做了跨域报警。</p> <p>http://www.gitrue.com:9000/image/3QhU14XFTF</p> <p>哦，我们适配一下 node 代理</p> <p>官方例子在这： https://vuejs-templates.github.io/webpack/proxy.html</p> <p>扩展一下 proxyTable：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>proxyTable<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token comment">//拦截所有v1开头的xhr请求</span>
      context<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/v1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
      target<span class="token operator">:</span> <span class="token string">&quot;&lt;https://xiaoce-timeline-api-ms.juejin.im&gt;&quot;</span><span class="token punctuation">,</span>
      cookieDomainRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 不用cookie</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//重点，此处本地就会虚拟一个服务替我们接受或转发请求</span>
      secure<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>再次发送请求。</p> <ul><li>愉快的拿到了数据</li></ul> <p>http://www.gitrue.com:9000/image/ryhYwQT89O</p> <p>这样，前后分离的项目可以这样借助 swagger 测试接口，不需要骚扰任何人。实现自己的业务逻辑，简单实现一点。</p> <p>http://www.gitrue.com:9000/image/whDpNZImMv</p> <p>代码:</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// blog/index.vue</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Blog<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> msg <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(blog,index) in blogList<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">v-bind:</span>key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>`https://juejin.im/book/`+blog.id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span>blog<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
export default {
  name: &quot;Blog&quot;,
  data() {
    return {
      msg: &quot;掘金小册一览&quot;,
      blogList: []
    };
  },
  created() {
    this.getBlog();
  },
  methods: {
    getBlog() {
      this.$http.get(&quot;/v1/getListByLastTime?src=web&amp;pageNum=1&quot;).then(res =&gt; {
        this.blogList = res.data.d;
      });
    }
  }
};
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="发布"><a href="#发布" class="header-anchor">#</a> 发布</h3> <ul><li>扫盲</li></ul> <p>写完代码之后部署到线上，是不会在线上 clone 代码之后 Npm run dev 的😆，那样会有太多太多的垃圾依赖，为用户带来了灾难性的网络请求，通常借助webPack打包之后发布到服务器的web服务当中。</p> <p>运行</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> npm run build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/GCxys1jfzU</p> <p>打包目录是之前配置的webpack</p> <p>http://www.gitrue.com:9000/image/aqi8o2otzo</p> <p>http://www.gitrue.com:9000/image/z87CykBv3r</p> <p>好了，很多人直接双击 index.html 是不行的。 &gt;Tip: built files are meant to be served over an HTTP server. Opening index.html over file:// won’t work.</p> <p>需要 http 服务启动，可以扔到本地或服务器的 nginx、apache、tomcat等容器测试，我通常使用 python 启动一个 http 服务来运行（脚本地址）、当然,自己 ide 支持 http 启动也可以。</p> <h3 id="生产中的跨域"><a href="#生产中的跨域" class="header-anchor">#</a> 生产中的跨域</h3> <p>生产当中，因为前端后端必然不同端口，避免跨域，通常使用 nginx 的正向/反向代理作为跨域的手段。（并非负载均衡，两个概念）</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>server <span class="token punctuation">{</span>
        listen       <span class="token number">80</span><span class="token punctuation">;</span>
        server_name  localhost<span class="token punctuation">;</span>
 
        location <span class="token operator">^</span><span class="token operator">~</span> <span class="token operator">/</span>v1 <span class="token punctuation">{</span>
        proxy_pass              <span class="token operator">&lt;</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>xiaoce<span class="token operator">-</span>timeline<span class="token operator">-</span>api<span class="token operator">-</span>ms<span class="token punctuation">.</span>juejin<span class="token punctuation">.</span>im<span class="token operator">&gt;</span><span class="token punctuation">;</span>#代理。
        proxy_set_header        <span class="token constant">X</span><span class="token operator">-</span>Real<span class="token operator">-</span><span class="token constant">IP</span> $remote_addr<span class="token punctuation">;</span>#转发客户端真实<span class="token constant">IP</span>
        proxy_set_header        <span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span>For $proxy_add_x_forwarded_for<span class="token punctuation">;</span>
        proxy_set_header        Host $http_host<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>       
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>简单配置一下就可以了，不多讲，前端同学了解一下就可以了，nginx 能干的事情还有很多。</p> <h3 id="api-的规范化"><a href="#api-的规范化" class="header-anchor">#</a> API 的规范化</h3> <p>你是否为了找某一个业务的接口头痛 你是否还在使用全局搜索找自己的接口 你是否某一个接口不同组件重复写了多次 整理一下自己的接口吧，像上文的 router 一样整齐的划分吧。</p> <p>http://www.gitrue.com:9000/image/0nbBt8l1Tc</p> <p>/renderer 下建立一个 api 的文件夹</p> <p>http://www.gitrue.com:9000/image/rYiDinlXNv</p> <p>webpack.base.conf.js 添加一条 api 的别名，方便我们日后大量调用</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token string">'api'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/renderer/api'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们建立 /renderer/api/juejin.js</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token keyword">let</span> Api <span class="token operator">=</span> <span class="token function">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token class-name">Api</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">getBlog</span><span class="token punctuation">(</span><span class="token parameter">page<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/v1/getListByLastTime?src=web&amp;pageNum=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// if (res.data.code === 200) {</span>
            <span class="token function">fn</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
            <span class="token comment">// }</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Api</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>修改一下我们刚才 /blog/index.vue 的 Axios 请求：</p> <ul><li>先引入 api</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>import juejin from &quot;@/api/juejin&quot;;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注掉之前离散的 axios ，使用从 api 中定义过的 XHR 请求数据。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token function">getBlog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// this.$http.get(&quot;/v1/getListByLastTime?src=web&amp;pageNum=1&quot;).then(res =&gt; {</span>
      <span class="token comment">//   this.blogList = res.data.d;</span>
      <span class="token comment">// });</span>
      juejin<span class="token punctuation">.</span><span class="token function">getBlog</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>blogList <span class="token operator">=</span> response<span class="token punctuation">.</span>d<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>http://www.gitrue.com:9000/image/NEEExyDHOY</p> <h1 id="part-7-快速构建网站布局"><a href="#part-7-快速构建网站布局" class="header-anchor">#</a> Part 7 快速构建网站布局</h1> <p>本文为方便讲述重构去除了 Element、vux 库，用了最近比较火的 bulma 轻量、快捷、易读。</p> <p>http://www.gitrue.com:9000/image/qNfc2oEEyR</p> <p>http://www.gitrue.com:9000/image/mUiW85X1C5</p> <h3 id="layout"><a href="#layout" class="header-anchor">#</a> Layout</h3> <p>首先，似上图，我们思考把一个小型网站拆成三部分：页头(Header)、内容(Content)、页脚(Footer) 这几乎每个网站内都必须有的，通常把万年不变的：页头(Header)、页脚(Footer) 制作成 Layout 方便通用。</p> <h3 id="components"><a href="#components" class="header-anchor">#</a> Components</h3> <p>再把内容(Content)根据业务进行拆分成 组件(Components)</p> <p>http://www.gitrue.com:9000/image/YbKmDWEZ46</p> <p>如上图：Header 和 Content ：Header其实没有拆分的必要，没有可以重用的组件，而 Conntent 是必须要拆分的布局元素。因为动态网站 Conntent 随着内容的变化而变化，内容多，可重用的东西的概率越高，需要把能重用的东西提炼出来</p> <p>1、节省代码、提高代码阅读性</p> <p>2、便于修改 （比如更新广告）</p> <h2 id="开始写代码"><a href="#开始写代码" class="header-anchor">#</a> 开始写代码</h2> <p>接着我们的 <a href="https://github.com/pkwenda/Blog/tree/master/code/web_project_course/2-complete_project/new-bee" target="_blank" rel="noopener noreferrer">第二章上传的源码<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 开始，基于它继续完善小网站布局和组件化。</p> <blockquote><p>值得一提的是：本系列教程一章跟随一章并且每一章可以独立运行，章与章之间完美衔接，没有 “突然出现” 的代码段。不会给新手无从下手的感觉，如果那你对代码陌生，那你该认真翻翻往期文章了。你可以基于上一章逐步写代码，也可以下载本章简单预览代码。</p></blockquote> <ul><li>引入 bulma 样式 CDN</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim new-bee/index.html
&lt;!-- font --&gt;
  &lt;link href=&quot;//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css&quot; rel=&quot;stylesheet&quot;&gt;
  &lt;!-- css --&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;&lt;https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.0/css/bulma.min.css&gt;&quot;&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>新建 Layout 目录</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim new-bee/src/renderer/components/layout
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>Layout 目录下建立 Header.vue 模板组件</li></ul> <p>这个组件专门写头部的内容，最好配合栅格尽可能写出简单的响应式组件</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bee-header<span class="token punctuation">&quot;</span></span>   <span class="token attr-name">element-loading-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>正在努力请求github...<span class="token punctuation">&quot;</span></span> <span class="token attr-name">element-loading-background</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rgba(0, 0, 0, 0.8)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 遮罩 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>  <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>  loading ? `modal is-active` : `modal` <span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">background-color</span><span class="token punctuation">:</span> #ffffff36</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                &lt; img src=&quot;&lt;https://img.actd.tw/images/2018/11/17/ez-4-05f4bba41fef&gt;&quot; style=&quot;width: 300px&quot; alt=&quot;&quot;&gt;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>is-underline <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item<span class="token punctuation">&quot;</span></span>   <span class="token punctuation">&gt;</span></span>
            &lt; img src=&quot;&lt;https://img.actd.tw/images/2018/11/17&gt;&quot; alt=&quot;Bulma: a modern CSS framework based on Flexbox&quot; width=&quot;92&quot; height=&quot;28&quot;&gt;
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-before is-hidden-mobile<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">padding-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item is-hidden-desktop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> <span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fa fa-lg fa-github is-size-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item is-hidden-desktop <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field has-addons<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>control<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>   <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>搜索一下<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>required<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 36.4px<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>130px</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>   <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>redirect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/fr/#thanks<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>control<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button is-warning<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>GO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
           
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-burger burger<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navMenuDocumentation<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navMenuDocumentation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-start<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item has-dropdown is-hoverable<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-link  is-active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                发现
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-dropdown <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>收藏集<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  收藏集
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>徽章<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  徽章
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>排名<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  排名
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>职场生活<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  职场生活
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;https://bulma.io/expo/&gt;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token comment">&lt;!--&lt;span class=&quot;bd-emoji&quot;&gt;⭐️&lt;/span&gt;--&gt;</span>
              专栏
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;https://bulma.io/expo/&gt;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token comment">&lt;!--&lt;span class=&quot;bd-emoji&quot;&gt;⭐️&lt;/span&gt;--&gt;</span>
              聊天
              <span class="token comment">&lt;!-- 很多人不知道干什么。。。 --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;https://bulma.io/expo/&gt;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token comment">&lt;!--&lt;span class=&quot;bd-emoji&quot;&gt;⭐️&lt;/span&gt;--&gt;</span>
              面经
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/book<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token comment">&lt;!--&lt;span class=&quot;bd-emoji&quot;&gt;❤️&lt;/span&gt;--&gt;</span>
              书籍
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-end<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-before<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">padding-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token comment">&lt;!-- pc --&gt;</span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item is-hidden-desktop-only<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>&lt;https://github.com/pkwenda/my-bbs&gt;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fa fa-lg fa-github is-size-2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item is-hidden-mobile <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field has-addons<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>control<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>   <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>搜索一下<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>required<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 36.4px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>   <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>redirect<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/fr/#thanks<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>control<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button is-warning<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>GO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item is-hidden-mobile <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token comment">&lt;!--&lt;span class=&quot;icon is-medium&quot;&gt;--&gt;</span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-tixing<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
              <span class="token comment">&lt;!--&lt;/span&gt;--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

               
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item has-dropdown is-hoverable<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>is-hidden-mobile<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>          
              &lt; img src=&quot;&lt;https://avatars2.githubusercontent.com/u/14212375?s=400&amp;u=dc515636befebfda36501309d1cdc087ee31d500&amp;v=4&gt;&quot; class=&quot; header-avatar img-circle &quot;
                                  style=&quot;margin-top: 10px&quot;&gt;
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-dropdown <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>收藏集<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  写文章
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>徽章<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  设置
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item <span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>排名<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                  退出
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>   
            
 
           
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-before<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navbar-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>field is-grouped<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                 
                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>control<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button is-warning<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!isLogin<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">&gt;</span></span>
                      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span> <span class="token punctuation">&gt;</span></span>

                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span> <span class="token punctuation">&gt;</span></span>

                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;BeeHeader&quot;</span><span class="token punctuation">,</span>

  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      popupShow<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      isLogin<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      user<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      userInfo<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.img-circle</span> <span class="token punctuation">{</span>
  <span class="token property">-webkit-border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">-moz-border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br></div></div><h3 id="什么样式可以写在-vue-文件中"><a href="#什么样式可以写在-vue-文件中" class="header-anchor">#</a> 什么样式可以写在 .vue 文件中</h3> <p>上文的比较熟悉的代码是让我们的头像变圆的代码段</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;style scoped&gt;
.img-circle {
  -webkit-border-radius: 50%;
  -moz-border-radius: 50%;
  border-radius: 50%;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>效果</li></ul> <p>http://www.gitrue.com:9000/image/OLflLsApEN</p> <p>-2018-11-22-18.45.39.png</p> <p>这里我偷了个懒，刚好可以说一说，对于如此通用的样式，局限在 .vue文件中，并且以 scoped 标示，宣判了它无法复用的事实，任何模块想用这个样式，都需要复制一份，显然是不规范的，我们通常还会建立通用的 css 文件进行管理，大型项目 css 管理规范将更加严格、规范的树级结构，具体就看 CTO 的想法了。</p> <h3 id="根据喜好选择如何布局"><a href="#根据喜好选择如何布局" class="header-anchor">#</a> 根据喜好选择如何布局</h3> <h3 id="按需引入"><a href="#按需引入" class="header-anchor">#</a> 按需引入</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim new-bee/src/renderer/components/HelloWorld.vue
&lt;template&gt;
    &lt;div&gt;
   &lt;Header&gt;&lt;/Header&gt;
     &lt;!--&lt;div class=&quot;container&quot;&gt; &lt;/div&gt;--&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import Header from &quot;@/components/layout/Header&quot;;
export default {
  name: &quot;NewBeeIndex&quot;,
  components: { Header },
  data() {
    return {};
  },

  destroyed() {},
  mounted() {},
  methods: {},
  watch: {}
};
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>缺点是要一个一个引入，但优点是代码可读性高</p> <h3 id="全局引入"><a href="#全局引入" class="header-anchor">#</a> 全局引入</h3> <ul><li>App 主入口</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim  new-bee/src/renderer/App.vue
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>引入</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
     </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Header</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;!-- &lt; img src=&quot;./assets/logo.png&quot;&gt; --&gt;
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">/&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import Header from &quot;@/components/layout/Header&quot;;
export default {
  name: &quot;App&quot;,
  components: { Header }
};
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">import Header from &quot;@/components/layout/Header&quot;;export default {  name: &quot;App&quot;,  components: { Header }};</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><ul><li>查看效果</li></ul> <p>http://www.gitrue.com:9000/image/7ARqQ5O5rZ</p> <p>基于 webpack 爸爸的热部署，我们无需刷新浏览器，webpack 偷偷用 ws 更新了我们的内容。似乎很完美，但是也许大家发现了一个问题，我们通过浏览器渲染出来的 dom 就可以看到：：</p> <p>http://www.gitrue.com:9000/image/kH0X0i6eMr</p> <p>我们在主 APP 入口引入了头部布局， App.vue 是紧临</p> <p>元素的正文元素，而这个程序所有页面、子路由全部都是 App.vue 入口的子集，说明全局引入布局会存在如下问题：</p> <p>1、这个项目所有的项目都一定会带上 Header 组件渲染的内容 2、而且会影响在下期 《性能优化》中讲的 webpack 按需加载的性能。</p> <blockquote><p>当然可以再 Header 组件上书写逻辑条件,过滤指定的路由，但会破坏项目的易读性，难以维护我个人是比较推荐第一种：按需引入的方式。</p></blockquote> <h3 id="继续布局"><a href="#继续布局" class="header-anchor">#</a> 继续布局</h3> <ul><li>照猫画虎写好 Footer</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim new-bee/src/renderer/components/layout/Footer.vue
&lt;template&gt;
    &lt;footer class=&quot;footer footer-light-medium &quot; style=&quot;padding-bottom: 20px;padding-top: 20px;&quot;&gt;
    &lt;div class=&quot;container&quot;&gt;
        &lt;div class=&quot;columns&quot;&gt;
            &lt;!-- Column --&gt;
            &lt;div class=&quot;column is-4&quot;&gt;
                &lt;div class=&quot;mb-20&quot;&gt;
                    &lt; img class=&quot;small-footer-logo&quot; src=&quot;&lt;https://img.actd.tw/images/2018/11/17/&gt;&quot; alt=&quot;&quot;&gt;
                    &lt;div class=&quot;footer-description pt-10&quot;&gt;
                        new bee 是一个为开发者提供的专注于技术分享的开源社区,所有源码均可在 github 上找到,希望对广大开发者有所帮助。
                    &lt;/div&gt;
                &lt;/div&gt;
                &lt;div&gt;
                    &lt;span class=&quot;moto&quot;&gt;喜欢项目可以点赞支持  &lt;a href=&quot;&lt;https://github.com/pkwenda/new-bee&gt;&quot; target=&quot;_blank&quot;&gt;
                            &lt;span class=&quot;icon&quot;&gt;&lt;i class=&quot;fa fa-github&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                        &lt;/a &gt;.&lt;/span&gt;
                    &lt;div class=&quot;social-links mt-20&quot;&gt;
                         
                        
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;!-- Column --&gt;
            &lt;div class=&quot;column is-6 is-offset-2&quot;&gt;
                &lt;div class=&quot;columns&quot;&gt;
                    &lt;!-- Column --&gt;
                    &lt;div class=&quot;column&quot;&gt;
                        &lt;ul class=&quot;footer-column&quot;&gt;
                            &lt;li class=&quot;column-header&quot;&gt;
                                Links
                            &lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://github.com/pkwenda/new-bee&gt;&quot;&gt;Home&lt;/a &gt;&lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://cssninja.io/themes&gt;&quot;&gt;Blog&lt;/a &gt;&lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://github.com/pkwenda/new-bee/wiki&gt;&quot;&gt;Wiki&lt;/a &gt;&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                    &lt;!-- Column --&gt;
                    &lt;div class=&quot;column&quot;&gt;
                        &lt;ul class=&quot;footer-column&quot;&gt;
                            &lt;li class=&quot;column-header&quot;&gt;
                                Ressources
                            &lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://cssninja.io/help&gt;&quot;&gt;Help center&lt;/a &gt;&lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://cssninja.io/blog&gt;&quot;&gt;Blog&lt;/a &gt;&lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://cssninja.io/help/rules&gt;&quot;&gt;Rules&lt;/a &gt;&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                    &lt;!-- Column --&gt;
                    &lt;div class=&quot;column&quot;&gt;
                        &lt;ul class=&quot;footer-column&quot;&gt;
                            &lt;li class=&quot;column-header&quot;&gt;
                                Terms
                            &lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://cssninja.io/help/terms/licenses/personal&gt;&quot;&gt;Personal&lt;/a &gt;&lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://cssninja.io/help/terms/licenses/developer&gt;&quot;&gt;Developer&lt;/a &gt;&lt;/li&gt;
                            &lt;li class=&quot;column-item&quot;&gt;&lt;a href=&quot;&lt;https://cssninja.io/help/terms/service&gt;&quot;&gt;Terms of Service&lt;/a &gt;&lt;/li&gt;
                        &lt;/ul&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/footer&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &quot;Footer&quot;,
  data() {
    return {};
  },
  created() {},
  destroyed() {},
  mounted() {

  },
  methods: {}
};
&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br></div></div><blockquote><p>别忘了在 HelloWorld 引入一下</p></blockquote> <ul><li>看看效果</li></ul> <p>http://www.gitrue.com:9000/image/zPOvxAyyWi</p> <ul><li>看起来效果还不错，接下来是 Content（正文）部分</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim new-bee/src/renderer/components/layout/Content.vue
&lt;template&gt;

      &lt;div class=&quot;container&quot; style=&quot;height:700px&quot;&gt;
        &lt;h1  &gt;博客列表&lt;/h1&gt;
          &lt;article class=&quot;column is-3&quot;   v-for=&quot;blog in blogs&quot; v-bind:key=&quot;blog&quot;&gt; 
            &lt;a   class=&quot;bd-article-image is-bootstrap&quot; &gt;
            &lt;span class=&quot;bd-article-overlay&quot;&gt;&lt;/span&gt;
            &lt;span class=&quot;bd-article-icon&quot;&gt;
                &lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;
            &lt;/span&gt;
            &lt;strong class=&quot;bd-star-icon&quot; &gt;&lt;i class=&quot;fa fa-star&quot;&gt;&lt;/i&gt; &lt;span style=&quot;font-size: 1rem&quot;&gt;&amp;nbsp;{{blog.commendCount}}&lt;/span&gt;&lt;/strong&gt;
            &lt;strong class=&quot;bd-article-info&quot;&gt;
                &lt;span&gt;
                &lt;time class=&quot;bd-article-date&quot; datetime=&quot;2017-10-09T00:00:00+00:00&quot;&gt;
                    {{blog.tag}}
                &lt;/time&gt;
                &lt;strong class=&quot;bd-article-title&quot;&gt;
                    {{blog.title}}
                &lt;/strong&gt;
                &lt;/span&gt;
            &lt;/strong&gt;
            &lt;/a&gt;
        &lt;/article&gt;
      &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
let article = { tag: &quot;java&quot;, title: &quot;java&quot;, commendCount: 0 };
export default {
  name: &quot;Footer&quot;,
  data() {
    return {
      blogs: [
        article,
        article,
        article,
        article,
        article,
        article,
        article,
        article
      ]
    };
  },
  created() {},
  destroyed() {},
  mounted() {},
  methods: {}
};
&lt;/script&gt;

&lt;style scoped&gt;
.bd-article-image.is-bootstrap {
  background-color: #6f5499;
}
.bd-article-image {
  background-color: #00d1b2;
  display: block;
  height: 240px;
  margin-left: auto;
  margin-right: auto;
  position: relative;
  text-align: center;
}

.bd-star-icon {
  font-size: 19.2px;
  font-size: 1.2rem;
  color: #0a0a0a;
  opacity: 0.25;
  bottom: 10px;
  left: 30px;
  position: absolute;
  -webkit-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}
.bd-article-icon,
.bd-article-info {
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  justify-content: center;
}
.bd-article-info {
  padding: 20px;
}
a strong {
  color: currentColor;
}
.bd-article-date {
  color: rgba(0, 0, 0, 0.5);
  display: block;
}
.bd-article-title {
  color: white;
  display: block;
  font-size: 1.8rem;
  font-weight: 700;
  line-height: 1.25;
  padding: 0 20px;
}
.bd-article-icon {
  color: #0a0a0a;
  opacity: 0.25;
}
h1 {
  text-align: center;
  font-size: 30px;
}

.column.is-3,
.column.is-3-tablet {
  -webkit-box-flex: 0;
  -ms-flex: none;
  flex: none;
  width: 25%;
  float: left;
}
&lt;/style&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br></div></div><ul><li><p>看看效果</p> <p>http://www.gitrue.com:9000/image/bhU2ODG5eq</p></li> <li><p>HelloWorld.vue 代码看起来是这样的</p></li></ul> <p>http://www.gitrue.com:9000/image/rZnwH8GSKi</p> <p>还算看得过去，我们继续参照图二</p> <p>http://www.gitrue.com:9000/image/mUiW85X1C5</p> <p>为 Content 制定 AD(广告) 组件。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>vim new-bee/src/renderer/components/common/AD.vue
&lt;template&gt;
     
             &lt;div class=&quot;ad&quot;&gt;&lt;h1&gt;澳门XX赌场上线啦&lt;/h1&gt;&lt;/div&gt;
    
&lt;/template&gt;

&lt;script&gt;
export default {
  name: &quot;AD&quot;,

  data() {
    return {};
  },
  destroyed() {},
  mounted() {},
  methods: {},
  watch: {}
};
&lt;/script&gt;
 &lt;style   scoped&gt;
.ad {
  width: 150px;
  height: 180px;
  background-color: #ececec;
  position: fixed;
  right: 30px;
  top: 80px;
}
&lt;/style&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><ul><li>别忘了在 Content.vue 引入一下</li></ul> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">...</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AD</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">AD</span></span><span class="token punctuation">&gt;</span></span>
<span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token constant">AD</span> <span class="token keyword">from</span> <span class="token string">&quot;@/components/common/AD&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Content&quot;</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token constant">AD</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>看下效果</li></ul> <p>http://www.gitrue.com:9000/image/1yIaneQlVL</p> <ul><li>对比一下我们之前 sketch 画的草</li></ul> <p>http://www.gitrue.com:9000/image/mUiW85X1C5</p> <p>差不多完成了我们初步的构思</p> <h1 id="part-8-前端性能优化"><a href="#part-8-前端性能优化" class="header-anchor">#</a> Part 8 前端性能优化</h1> <h2 id="本节橄榄"><a href="#本节橄榄" class="header-anchor">#</a> 本节橄榄</h2> <ul><li>前端需要了解的 docker 基础知识</li> <li>部署前端项目到本地/外网服务</li> <li>前端项目的 gZip 优化</li> <li>了解 CDN 的重要性</li> <li>webpack 按需加载</li> <li>图片的相关优化</li> <li>如何分析项目依赖，方便针对性处理</li> <li>如何减小 webpack 打包大小/速度</li></ul> <h2 id="上线"><a href="#上线" class="header-anchor">#</a> 上线</h2> <p>我们通常在本地开发，本地环境和线上也并非完全一样，很多项目第一次上线几乎都会遇到本地开发无法复现的问题，可能是字体、样式的问题，也可能是webpack 编译的问题、甚至可能是本地的奇葩环境。所以 本地完美运行 ≠ 线上完美运行，我们需要 build 项目，模拟线上测试一下，看看是否可以完美运行，有问题可以方便及时作出调整。</p> <h3 id="准备"><a href="#准备" class="header-anchor">#</a> 准备</h3> <blockquote><p>为了避免本教程污染大家本地环境，推荐大家安装一个docker，后期运维也会根据 docker 展开。</p></blockquote> <p>看到这个 Title ：《准备docker》，没接触过的前端不要怂，装一个，勇于跨出第一步，不学习就是等死「<a href="http://www.docker-cn.com/" target="_blank" rel="noopener noreferrer">点击这里了解 docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>」</p> <p>虽然 <code>tomcat nginx apache jboss jetty</code>等等等等都可以作为 http 服务，本章以最常见的 nginx 展开讲述：</p> <h2 id="大白话介绍下-docker"><a href="#大白话介绍下-docker" class="header-anchor">#</a> 大白话介绍下 docker</h2> <p>docker 就是用更优雅的方法，做到了虚拟机的事情，并且做的更好，可编程管理集群。docker 启动容器，在容器内部运行你的环境，默认各个容器是互相隔离的，当然你可以通过 link network 关联容器，或者直接使用 docker-compose 编排，启动容器的前提是镜像，也类似与虚拟机的镜像，想跑容器，先得下载「pull」镜像。</p> <h2 id="使用-docker"><a href="#使用-docker" class="header-anchor">#</a> 使用 docker</h2> <p>也许很多人没用过，没用过也不讲怎么安装了，自己去看官网吧<a href="http://www.docker-cn.com/" target="_blank" rel="noopener noreferrer">中文官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="http://www.docker-cn.com/community-edition" target="_blank" rel="noopener noreferrer">社区版下载<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="http://www.docker-cn.com/registry-mirror" target="_blank" rel="noopener noreferrer">中国镜像加速<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，windows 的话可能要开启虚拟化，linux 推荐 ubuntu， 有篇文章这样讲：<a href="https://www.linux-toys.com/?p=374" target="_blank" rel="noopener noreferrer">为了性能请不要在 centos中运行 Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ， <a href="%5B%5D()">查看翻译点这里</a>，几年前的文章了，现在怎么样有待考究。</p> <h3 id="看下-images-状态"><a href="#看下-images-状态" class="header-anchor">#</a> 看下 images 状态</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker images
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/F1QaCXU55P</p> <p>可以看到我已经有一些镜像了「我已经删除了nginx」</p> <h3 id="dockerhub-拉-nginx-镜像"><a href="#dockerhub-拉-nginx-镜像" class="header-anchor">#</a> dockerHub 拉 Nginx 镜像</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker pull registry.docker-cn.com/library/nginx:latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>正常 docker pull nginx 即可，中间那段是中国镜像源</p></blockquote> <p>http://www.gitrue.com:9000/image/B8QAyVAzTo</p> <p>http://www.gitrue.com:9000/image/Zgypo7kaVi</p> <p>屏幕快照 2018-11-27 16.33.04.png</p> <p>ok，我们成功 pull 下来了 Nginx 的镜像。默认存储的镜像名为： <a href="http://registry.docker-cn.com/library/nginx" target="_blank" rel="noopener noreferrer">registry.docker-cn.com/library/nginx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="打包"><a href="#打包" class="header-anchor">#</a> 打包</h2> <p>进入我们上一章源码的目录，build 一下进行发布。 <a href="https://github.com/pkwenda/Blog/tree/master/code/web_project_course/3-layout/new-bee" target="_blank" rel="noopener noreferrer">上一章源码在这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm run build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/qnfn26w0zm</p> <h3 id="启动-docker-容器"><a href="#启动-docker-容器" class="header-anchor">#</a> 启动 docker 容器</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker run --name nginx -d -p 8888:80 -v /new-bee/dist:/usr/share/nginx/html  registry.docker-cn.com/library/nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/3moBJbU2AG</p> <ul><li>上调命令一些解释「不多讲，避免消化不良，自己探究」</li></ul> <p><a href="https://niubility.me/fdc8691dde7f4469b0e80a79433caeb1" target="_blank" rel="noopener noreferrer">Copy of Untitled<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="测试一下-2"><a href="#测试一下-2" class="header-anchor">#</a> 测试一下</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;http://localhost:8888/#/&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/ScN0E2S7bu</p> <p>当然初次尝试 docker 你可能会有更多的疑问：</p> <ul><li>你怎么知道需要将主目录挂载到： /usr/share/nginx/html ?</li> <li>能否/怎样 查看 Nginx 日志 ?</li> <li>容器内的 nginx 能否自定义配置 ?</li> <li>……</li></ul> <p>这些小白问题本章简单讲讲，后面做自动运维的时候单独展开讲，可以关注<a href="https://github.com/pkwenda/Blog" target="_blank" rel="noopener noreferrer">我的博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="gzip"><a href="#gzip" class="header-anchor">#</a> gZip</h2> <p>我们可以通过 webpack 压缩脚本文件，上传到 http 服务器，浏览器浏览的时候，经过压缩的HTTP应答报文是由浏览器解压的，比起压缩，解压的速度是非常快的（只要数据正常，可以解压的话），所以不用担心浏览器用于解压的时间会降低用户体验。事实上，浏览器解压消耗的这点时间比起数据包因为网络拥堵而耽误的时间要少的多也可控的多。</p> <p>在浏览器发给服务器的HTTP请求报文中，使用Accept-Encoding字段标明自己支持的压缩格式，即自己可以解压哪几种压缩报文（gzip、zlib库提供的deflate）。服务器回复客户端的HTTP应答报文中，使用Content-Encoding字段标明该应答报文使用哪种压缩方式。</p> <h3 id="gzip-攻破-webpack、nginx"><a href="#gzip-攻破-webpack、nginx" class="header-anchor">#</a> gZip 攻破 webpack、nginx</h3> <p>像我这样屌丝的服务器一般都买 1M 的，大的资源文件 hold 不住，一个动辄 400K 的 vendar 文件这很蛋疼，不上 gZIp 很难受。</p> <p>打开 network 观察一下:</p> <p>http://www.gitrue.com:9000/image/7Nvn7iygVC</p> <p>它有 144K 这么大</p> <p>http://www.gitrue.com:9000/image/nHCVuLqIPX</p> <p>我们就以 webpack 打包的核心 vendor 为例，我们发现，客户端向服务端请求了 gZIp 资源 <code>Accept-Encoding: gzip, deflate</code>，但可惜服务端并没有给我们理想中的 <code>response - Content-Encoding: gzip</code> 的响应, 我们需要排查一下原因。</p> <ul><li>首先看看 webpack 到底打没打出来打出来 gZip 呢？看看他的目录有没有 js 的 .gz 文件。</li></ul> <p>http://www.gitrue.com:9000/image/vCd9XNDIvd</p> <p>很遗憾没有，只有一些压缩文件和用于定位的 map 文件，看来首先我们的打包就出现了问题。</p> <p>大家还记得当初构建项目我发的这张图吗？</p> <p>http://www.gitrue.com:9000/image/mLo2tA6qwY</p> <ul><li>package.json 项目描述文件</li></ul> <p>打开看看 build 命令执行了哪个脚本？</p> <p>http://www.gitrue.com:9000/image/euLLe5cPzl</p> <p>打开 build.js 看看执行了哪些内容，难道是 vue-cli 没有为我们配置好webpack gZip 相关的配置吗？</p> <p>http://www.gitrue.com:9000/image/vNUNofAy0q</p> <p>我们发现没什么特别的，发现一个 <code>const webpackConfig = require('./webpack.prod.conf')</code> 的依赖，大概就是字面意思（webpack生产配置）进去看看。</p> <p>http://www.gitrue.com:9000/image/PkuQKiK82Z</p> <p>哦，我们看到了，webpack 确实为我们配置了 gZip 相关配置。</p> <p>可是发现这个配置被这个判断包裹住了：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>if (config.build.productionGzip) {}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>追踪下去</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// Gzip off by default as many popular static hosts such as</span>
    <span class="token comment">// Surge or Netlify already gzip all static assets for you.</span>
    <span class="token comment">// Before setting to `true`, make sure to:</span>
    <span class="token comment">// npm install --save-dev compression-webpack-plugin</span>
    productionGzip<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token comment">// Gzip off by default as many popular static hosts such as    // Surge or Netlify already gzip all static assets for you.    // Before setting to `true`, make sure to:    // npm install --save-dev compression-webpack-plugin    productionGzip: false,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我们的全部疑惑都被揭开了，开发者通过注释这样告诉我们他的理由，我简单翻译一下：</p> <p>http://www.gitrue.com:9000/image/phapBcxGq5</p> <p>首先下载一下依赖：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>vim <span class="token keyword">package</span><span class="token punctuation">.</span>json
 
 <span class="token string">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;compression-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.1.12&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>然后 productionGzip 改成 true</p> <ul><li>废话不多说打个包试试：</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm run build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/B3n5P3f1uk</p> <p>成功了，出现了 .zg 文件压缩包，但是 gZip 是需要服务端的支持的，服务器通过客户端请求的 <code>Accept-Encoding</code> 首部开判断返回哪种格式的脚本文件，然后由浏览器解压，我们拉下来的 nginx 镜像，nginx 是不会为我们默认配置 gZIp 服务端压缩的，我们去查看一下吧。</p> <h3 id="进入-docker-主机"><a href="#进入-docker-主机" class="header-anchor">#</a> 进入 docker 主机</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code> docker exec -it nginx /bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或者</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> docker exec -it nginx &quot;bash&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/60fWqcc3tb</p> <p><a href="https://niubility.me/3f87cdf1fcbd49989aeeedc12f2af089" target="_blank" rel="noopener noreferrer">Copy of Untitled<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="进入-nginx-主机的第一件事"><a href="#进入-nginx-主机的第一件事" class="header-anchor">#</a> 进入 nginx 主机的第一件事</h3> <h2 id="nginx-在哪"><a href="#nginx-在哪" class="header-anchor">#</a> nginx 在哪？？？</h2> <p>Linux whereis 命令用于查找文件。</p> <p>该指令会在特定目录中查找符合条件的文件。这些文件应属于原始代码、二进制文件，或是帮助文件。</p> <p>该指令只能用于查找二进制文件、源代码文件和man手册页，一般文件的定位需使用 locate 命令。</p> <p>语法</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">whereis</span> <span class="token punctuation">[</span>-bfmsu<span class="token punctuation">]</span><span class="token punctuation">[</span>-B <span class="token operator">&lt;</span>目录<span class="token operator">&gt;</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">[</span>-M <span class="token operator">&lt;</span>目录<span class="token operator">&gt;</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">[</span>-S <span class="token operator">&lt;</span>目录<span class="token operator">&gt;</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">[</span>文件<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>查看 nginx 位置</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root@e0017cab245f:/<span class="token comment"># whereis nginx</span>
nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>http://www.gitrue.com:9000/image/mB7Egq5aJi</p> <ul><li>我们在 /usr/share/nginx 找到了根目录 html/</li></ul> <p>http://www.gitrue.com:9000/image/LBJJSIznuK</p> <ul><li>我们在 /etc/nginx/ 找到了 nginx 配置文件</li></ul> <blockquote><p>ps 中间件这么多，谁记得住呢，记不住自己看看就行了不是吗?</p></blockquote> <ul><li>查看一下 nginx 的配置</li></ul> <p>http://www.gitrue.com:9000/image/JcrJIahx8O</p> <p>确实 gZip 真的没开启，被注掉了。</p> <p>我们打开 gZip 的注释，并且防止服务端对 css 偷懒，我们一步到位加上几行经典配置。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">gzip</span> on<span class="token punctuation">;</span>
gzip_min_length 1k<span class="token punctuation">;</span>
gzip_buffers <span class="token number">4</span> 16k<span class="token punctuation">;</span>
gzip_comp_level <span class="token number">6</span><span class="token punctuation">;</span>
gzip_types application/javascript text/plain application/x-javascript text/css application/xml text/javascript application/json<span class="token punctuation">;</span>
gzip_vary on<span class="token punctuation">;</span>
    
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><a href="https://github.com/pkwenda/Blog/blob/master/code/web_project_course/4-optimizing/nginx/nginx.conf" target="_blank" rel="noopener noreferrer">nginx配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 代码在这里</p> <h3 id="如何修改-docker-内部的配置"><a href="#如何修改-docker-内部的配置" class="header-anchor">#</a> 如何修改 docker 内部的配置</h3> <p>就目前来看，你有两种方法可以选择：</p> <ul><li>直接 exec 容器进行修改，增加上述 gZip 代码段。缺点：若想重新基于镜像构建容器容器内的配置会丢失。（除非你 commit 镜像）</li> <li>独立出配置文件，一劳永逸。</li></ul> <p>我们基于第二点在 new-bee/ 目录 同级 创建了一个目录 nginx/ 创建一个同名的 nginx.conf 文件。</p> <p><a href="https://github.com/pkwenda/Blog/blob/master/code/web_project_course/4-optimizing/nginx/nginx.conf" target="_blank" rel="noopener noreferrer">nginx配置<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 代码在这里</p> <ul><li>先停止 nginx 容器</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker stop nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>删除 nginx 容器</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker rm nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>重新构建 nginx 容器</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker run --name nginx -d -p 8888:80 -v /new-bee/dist:/usr/share/nginx/html -v /nginx/nginx.conf:/etc/nginx/nginx.conf:ro registry.docker-cn.com/library/nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>看看效果</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;http://localhost:8888/#/&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>为了避免浏览器加载刚才的 304 缓存，清除下浏览器缓存或进行隐身模式</p> <p>http://www.gitrue.com:9000/image/yFe0F8LqXI</p> <p>已经奏效了。</p> <ul><li>看看大小压缩到多少</li></ul> <p>http://www.gitrue.com:9000/image/fw8oJeIJ3s</p> <p>只有 50K 左右，压缩了 2/3 的大小，这对于大型项目来说，节省的不只是 100K ，甚至是更多，webpack 或者说 gz 等压缩算法，会将所有的大量重复的片段单独标记，所以重复的越多，压缩的越多，这对于现在带宽比金子贵的云服务来说是十分重要的。</p> <h2 id="cdn"><a href="#cdn" class="header-anchor">#</a> CDN</h2> <p>http://www.gitrue.com:9000/image/UWVgxzDh84</p> <p>大家注意到，有些能用 CDN 的我选择使用了 CDN，那么 CDN 对于线上服务来说到底有多重要呢?</p> <h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <h3 id="请求速度"><a href="#请求速度" class="header-anchor">#</a> 请求速度</h3> <p>废话先不说给大家上个对比图 <a href="https://www.17ce.com/" target="_blank" rel="noopener noreferrer">测试地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>这是我的 论坛</li></ul> <p>http://www.gitrue.com:9000/image/ZFxpaQi9Q7</p> <p>可以看到仅有几个地方还算不错，其余地方都是一塌糊涂</p> <ul><li>这是淘宝</li></ul> <p>http://www.gitrue.com:9000/image/rfx1JQuo20</p> <p>不用说了吧？不过还好，这部分我们资金不足败了也很正常，但大家可能也大概知道 CDN 的意义了，主要意义不是节省开源项目服务器带宽，而是全国各个节点的访问速度问题，也就解释了：我部署的项目访问速度还不错，你这里怎么这么慢，你网不好吧？CDN 来告诉你答案。</p> <h3 id="cookie"><a href="#cookie" class="header-anchor">#</a> cookie</h3> <p>我们还是拿实战的 <a href="https://github.com/pkwenda/new-bee" target="_blank" rel="noopener noreferrer">bbs论坛<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 举例子吧，查看网络状态：</p> <p>http://www.gitrue.com:9000/image/vzXwT7C3YQ</p> <p><strong>使用 CDN 的几点优势</strong></p> <ul><li>访问快</li> <li>服务端压力小</li> <li>webpack打包小且快（下面讲）</li></ul> <p>客户端的 cookie 是绑定服务端 域名 的, 看上图，我们需要 XHR 请求携带 cookie 访问服务端获取对应权限，但试想一下：每一个 js、img、甚至是css 都携带垃圾的 cookie ，在大用户量下，服务端承受着不应该属于他的痛苦，这样的消耗是特别应该避免的，我们可以随便翻一翻任何一个成熟的网站，都会发现存在自己的 CDN 服务，这样既优化了中国不同地区的访问速度，同时也大大减小了服务端的开销。</p> <h3 id="节省-webpack-打包大小-速度"><a href="#节省-webpack-打包大小-速度" class="header-anchor">#</a> 节省 webpack 打包大小/速度</h3> <p>很长时间前经历过公司前端 webpack 编译特别慢的问题，dev 模式下我们可以注掉开发范围外的 路由，但是 build 发布的时候似乎没法解决，使用了 Happypack 多线程打包还是不如人意，查阅资料读到了 <a href="https://zhuanlan.zhihu.com/p/21748318" target="_blank" rel="noopener noreferrer">这篇文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>http://www.gitrue.com:9000/image/GhUzOfu0yx</p> <p>我们可以把能够 externals 调的排除掉，然后使用 webpack 的 webpack.DllPlugin 生成依赖库（这点很重要），大大减少便以速度，DllPlugin 本质上的做法和我们手动分离这些第三方库是一样的，但是对于包极多的应用来说，自动化明显加快了生产效率。</p> <h2 id="如何分析项目依赖"><a href="#如何分析项目依赖" class="header-anchor">#</a> 如何分析项目依赖</h2> <h3 id="webpack-bundle-analyzer"><a href="#webpack-bundle-analyzer" class="header-anchor">#</a> webpack-bundle-analyzer</h3> <p>其实很多人都知道，可能刚入坑的同学不太了解，不管是 npm maven 都有自己一套以来分析工具，当然也都来源于第三方，这里为大家介绍 npm 的以来分析工具： <a href="https://www.npmjs.com/package/webpack-bundle-analyzer" target="_blank" rel="noopener noreferrer">webpack-bundle-analyzer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，他会在浏览器生成一个报表，直观的展示哪里大，哪里需要优化，以及预测 gZip 的大小，还是以 <a href="https://github.com/pkwenda/new-bee" target="_blank" rel="noopener noreferrer">实战项目<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>为例：</p> <p>按照官方指引的配置，下载依赖，package.json 文件指定下 build 的脚本：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;analyz&quot;: &quot;NODE_ENV=production npm_config_report=true npm run buildProd&quot;,
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行一下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm run analyz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>http://www.gitrue.com:9000/image/ckDAw8RZgq</p> <p>效果：</p> <p>http://www.gitrue.com:9000/image/yDqybaf7md</p> <p>分析：</p> <p>发现了问题，<code>static/</code> 静态文件下 hightlight 文件比较大，有钱可以考虑下 CDN，<code>node_modules/</code> 下 element-ui 饿了么组件比较大，（我比较懒，全局导入的，可以用哪个引入哪个避免全局打包问题）可以优化，然后无聊的同学没事儿点点玩玩吧。</p> <h2 id="webpack-按需加载-一切皆模块"><a href="#webpack-按需加载-一切皆模块" class="header-anchor">#</a> webpack 按需加载 ： 一切皆模块</h2> <p>当打包构建应用时，Javascript 包会变得非常大，影响页面加载。如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应组件，这样就更加高效了。 Webpack 的代码分割功能， 实现路由组件的懒加载.</p> <p><strong><a href="https://webpack.docschina.org/guides/code-splitting" target="_blank" rel="noopener noreferrer">官方详细说明<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></p> <p>官方说的挺详细了，这里就偷个懒不上代码了，给大家提供一种经典处理方式，我们不放在组件上，直接对路由进行拆分，具体可以看 <a href="https://github.com/pkwenda/new-bee/blob/master/bbs-vue/src/renderer/router/index.js" target="_blank" rel="noopener noreferrer">实战项目路由<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的路由拆分</p> <p>会发现很多这种注释：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const Blog = () =&gt; import(/* webpackChunkName: &quot;blog&quot; */ '@/container/blog/Blog')
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>那么类似：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/* webpackChunkName: &quot;blog&quot; */
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>不是白写的，他是配合 webpack 对项目各路由拆分的，我们可以看看 <a href="http://www.gitrue.com/" target="_blank" rel="noopener noreferrer">实际项目加载情况<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：</p> <p>http://www.gitrue.com:9000/image/gBUiuO8kT9</p> <p>这个 <code>blog.hash.js</code></p> <p>不是我们写的，是 webpack 进行分割的，这样类似 vue 这样的单页面架构，不会加载某模块总是加载全部脚本，大大提升加载速度。</p> <h2 id="图片处理"><a href="#图片处理" class="header-anchor">#</a> 图片处理</h2> <p>本来不想讲的，简单说说吧，常用的也就那几种 svg 、base64、 或使用fastdfs组件类似 CDN 的服务。</p> <h3 id="base64"><a href="#base64" class="header-anchor">#</a> base64</h3> <p>简单来讲 base64 会减少你的 http 请求数量，要知道 XHR 可不是省油的灯，他会带来额外的处理请求和处理响应损耗，以表情为例，动辄几十个表情 http 请求似乎太智障了一些，通常采用 base64 处理，减少了 http 请求数量，但是增大了图片本身的体积，如果你用了webpack 且你的表情在本地，那么 webpack 可以帮你自动进行 base64 编码哦。</p> <h3 id="压缩图片"><a href="#压缩图片" class="header-anchor">#</a> 压缩图片</h3> <p>用户上传的图片可以通过压缩图片大小或质量减少带宽哦，通常使用 <a href="https://github.com/aheckmann/gm" target="_blank" rel="noopener noreferrer">GM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 对用户上传的有必要大锁的图片 压缩成不同大小的，根据业务加载，比如头像，默认肯定不会请求原始图片，今日头条的正文，使用流量的情况下也会默认加载小图，这些都不是客户端能做到的，需要服务端压缩。</p> <h2 id="结语"><a href="#结语" class="header-anchor">#</a> 结语</h2> <p>当然这些知识万里长征的第一步，以后的优化之路茫茫多，能大概想起来的比如 ：Lazy-Load（优化首屏体验）、PWA（构建web APP）、服务端渲染（为了SEO）、骨架屏（提升用户体验），后端和服务端文章还没写， 1.0 版本就放这些吧，期待第二版填坑，下篇开始后端。</p> <p>SO - 努力吧!</p> <p>项目地址：</p> <p><a href="https://github.com/pkwenda/new-bee" target="_blank" rel="noopener noreferrer">pkwenda/new-bee<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021/1/13 上午10:27:21</span></div></footer> <!----> </main> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7c63b0d3.js" defer></script><script src="/assets/js/2.a4dd7d1f.js" defer></script><script src="/assets/js/59.19a6e9b9.js" defer></script>
  </body>
</html>
